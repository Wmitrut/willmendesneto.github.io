<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Micro tunnings with Angular apps - Part 2</title>
  <meta name="description" content="This is my blog, where i talk about technologies" />

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="canonical" href="http://willmendesneto.github.io/2015/06/22/micro-tunnings-with-angular-apps-part-2">

  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="cache-control" content="no-store, no-cache, must-revalidate" />
    <meta http-equiv="Pragma" content="no-store, no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE" />
    <meta http-equiv="PRAGMA" content="NO-CACHE" />
    <meta name="domain" content="willmendesneto.github.io" />
    <meta name="url" content="/2015/06/22/micro-tunnings-with-angular-apps-part-2" />

    <meta property="og:type" content="article" />
    <meta property="og:title" content="Micro tunnings with Angular apps - Part 2" />
    <meta property="og:url" content="/2015/06/22/micro-tunnings-with-angular-apps-part-2" />
    <meta property="og:description" content="" />
    <meta property="article:author" content="" />
    <meta property="og:site_name" content="Wilson Mendes - Blog" />
    <meta property="og:image" content="http://amitdev.github.io/img/s.svg" />
    <meta name="twitter:site" content="@willmendesneto" />
    <meta name="twitter:image" content="http://amitdev.github.io/img/s.svg" />
    <meta name="twitter:card" content="summary" />
    <meta name="autor" content="Wilson Mendes" />
    <meta name="reply-to" content="willmendesneto@gmail.com">
    <meta name="revisit-after" content="3" />
    <meta name="title" content="Wilson Mendes - Blog">
    <meta name="description" content="This is my blog, where i talk about technologies">
    <meta name="keywords" content="["performance,",, "frontend,",, "angular"]" />
  

  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Pesquisa no Blog" />

  <link rel="shortcut icon" href="/assets/images/favicon.ico">
<!--  <link rel="stylesheet" href=""> -->
  <!-- <link rel="stylesheet" href="http://brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Open+Sans:400,400i,700,700i"> -->
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,400italic,600,700,800" rel="stylesheet" type="text/css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/main.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/solarized-dark.css" />
  <link rel="stylesheet" type="text/css" media="print" href="/assets/css/print.css" />
</head>

  <body itemscope itemtype="http://schema.org/Article" id="body-content">
    <!-- header start -->

<!-- <a href="http://willmendesneto.github.io" class="logo-readium"><span class="logo" style="background-image: url()"></span></a> -->

<!-- header end -->

    <main class="content" role="main">
      <article class="post">
        
        <div class="article-image">
          <div class="post-image-image" style="background-image: url(http://amitdev.github.io/img/s.svg)">
            Article Image
          </div>
          <div class="post-meta">
            <h1 class="post-title">Micro tunnings with Angular apps - Part 2</h1>
            <div class="cf post-meta-text">
              <div class="author-image" style="background-image: url(https://pt.gravatar.com/userimage/20307137/677413a79461cdfd62c8a65143214850.png?size=300)">Blog Logo</div>
              <h4 class="author-name" itemprop="author" itemscope itemtype="http://schema.org/Person">Wilson Mendes</h4>
              on
              <time datetime="2015-06-22 00:00">22 Jun 2015</time>
              <!-- , tagged on <span class="post-tag-">, <a href="/tag/"></a></span> -->
            </div>
            <div style="text-align:center">
              <a href="#topofpage" class="topofpage"><i class="fa fa-angle-down"></i></a>
            </div>
          </div>
        </div>
        
        <section class="post-content">

          <a class="home-button"  href="/">&laquo; Home</a>
          <div class="post-reading">
            Lido a <span class="post-reading-time"></span>
          </div>
          <a name="topofpage"></a>
          <div id="post-content-page">
            <h2 id="introduction">INTRODUCTION</h2>

<p>In last post we talking about real-time web concepts, angular best practices, one-time-binding and how to integrate javascript async patterns in angular apps. Now lets take a look in some aspects of functional programming. So let’s go?</p>

<h2 id="functional-programming---concepts">FUNCTIONAL PROGRAMMING - CONCEPTS</h2>

<p>Here I will talk about functional programming concepts in angular apps.</p>

<h2 id="immutable-data-structure">IMMUTABLE DATA STRUCTURE</h2>

<p>An immutable data are based in a data structure that can’t be modified in any way after its creation. The only way to effective modify it would be to make a mutable copy or something similar (slightly modifying the parameters you pass to the constructor of the new one). One of the most caracteristics of these structure are the thread safe behaviour (if you can’t modify/update the data, you can understand too that your data is really safe of corruption) and your usage for hash keys.</p>

<p>Thinking in Javascript, your first attempt was <a href="http://swannodette.github.io/mori/">MoriJS project</a>, a library based in ClojureScript using immutability concepts. But this idea will be more familiar in front-end via <a href="http://facebook.github.io/immutable-js/">ImmutableJS project</a>.</p>

<p>Lee Byron, Interactive Information Designer at Facebook says in the first time that show Immutable JS in public:</p>

<blockquote>
  <p>Immutable js fits better with the rest of the JS ecosystem in my opinion, because it is designed for and written in JS, rather than ClojureScript. The API follows the native Array API where possible, so it’s  a lot easier to switch between the two</p>
</blockquote>

<p>Using a simple approach, we can take a look in results when we use immutable js instead mori js in our apps:</p>

<p><img src="/assets/images/immutable-vs-mori.png" alt="ImmutableJS versus MoriJS: Comparison" title="ImmutableJS versus MoriJS: Comparison" /></p>

<ul>
  <li>More informations in <a href="http://jsperf.com/immutablejs-versus-morijs">http://jsperf.com/immutablejs-versus-morijs</a></li>
</ul>

<h2 id="how-to-use-this-concepts-in-angular-apps">HOW TO USE THIS CONCEPTS IN ANGULAR APPS</h2>

<p>Thinking in improve more performance and give a simple way to use this library in angular apps, Minko Gechev create angular-immutable module. The idea of this module is simplify the $digest cycle of the data manipulated for angular apps.</p>

<p>Some points in this approach in angular apps:</p>

<p>Goods</p>

<ul>
  <li>Performance improvements when app work with bigger informations;</li>
</ul>

<p>Bads</p>

<ul>
  <li>Less performatic when app work with few informations;</li>
  <li>Insert more complexity in your app;</li>
</ul>

<blockquote>
  <p>Please take a look in your post <a href="http://blog.mgechev.com/2015/03/02/immutability-in-angularjs-immutablejs/">“Boost the Performance of an AngularJS Application Using Immutable Data”</a> for more detailed informations.</p>
</blockquote>

<h2 id="reactive-programming-a-world-with-good-news">REACTIVE PROGRAMMING: A WORLD WITH GOOD NEWS</h2>

<p>Reactive programming, in resume, is a programming paradigm oriented around data flows and the propagation of change. This is not a new idea or concept, but return with a new approach via <a href="http://facebook.github.io/react/">React JS</a> and Flux/Reflux.</p>

<p>Your algorithm is considered the most performatic when we talking about DOM rendering actually (AngularJS 2 will be using WebWorker for DOM rendering and give many performance improvements).</p>

<p>There are many approaches for your utilization integrating with front-end frameworks, such as Ember, Backbone and Angular. For Angular specifically has a module ngReact that help in this work, integrating React components via directive in angular apps.</p>

<p>Let me show you a simple example. We have 2 directives: one with ReactJS and another without. Based in a simple Devtools profiler for this example the results are:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">// without react</span>
<span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'angularPerformanceApp'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">directive</span><span class="p">(</span><span class="s1">'myMessage'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">template</span><span class="p">:</span> <span class="s1">'&lt;div&gt;Hello &lt;/div&gt;'</span><span class="p">,</span>
      <span class="na">restrict</span><span class="p">:</span> <span class="s1">'A'</span>
    <span class="p">};</span>
  <span class="p">});</span>
</code></pre>
</div>

<p><img src="/assets/images/without-react.png" alt="Using Angular directives" title="Using Angular directives" /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">// with react</span>
<span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'angularPerformanceApp'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">directive</span><span class="p">(</span><span class="s1">'myReactMessage'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="k">return</span> <span class="p">{</span>
      <span class="na">compile</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
       <span class="kd">var</span> <span class="nx">Hello</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
          <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">React</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">div</span><span class="p">({},</span> <span class="s1">'Hello '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">});</span>

        <span class="k">return</span> <span class="p">{</span>
          <span class="na">post</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">scope</span><span class="p">,</span> <span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">scope</span><span class="p">.</span><span class="nx">$watch</span><span class="p">(</span><span class="s1">'vm.message'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">newVal</span><span class="p">,</span> <span class="nx">oldVal</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">React</span><span class="p">.</span><span class="nx">renderComponent</span><span class="p">(</span><span class="nx">Hello</span><span class="p">({</span>
                <span class="na">name</span><span class="p">:</span> <span class="nx">scope</span><span class="p">.</span><span class="nx">vm</span><span class="p">.</span><span class="nx">message</span>
              <span class="p">}),</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'example'</span><span class="p">));</span>
            <span class="p">});</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
</code></pre>
</div>

<p><img src="/assets/images/with-react.png" alt="Using React JS" title="Using React JS" /></p>

<blockquote>
  <p>The Angular and React teams are sharing ideas about new steps (performance, DOM rendering, coesion and other aspects) and ideas about these projects and the resolutions are shared with community</p>
</blockquote>

<h2 id="conclusion">CONCLUSION</h2>

<p>In this post, was approached the Functional programming concepts and some simple aspects about immutable data structure, how to use in app and libraries for help in this work.</p>

<p>In next post we will talking about test performance: Why we have that focuses on performance in this step too, what are the good practices in unit and end-to-end tests, tips and tricks.</p>

<p>Do you use other methods? Comment and share your experience here.</p>

<p>Thanks and see you very soon!</p>

<p>Links:</p>

<ul>
  <li>Mori JS: <a href="http://swannodette.github.io/mori/">http://swannodette.github.io/mori/</a></li>
  <li>Immutable JS: <a href="http://facebook.github.io/immutable-js/">http://facebook.github.io/immutable-js/</a></li>
  <li>JSPerf: ImmutableJS x MoriJS: <a href="http://jsperf.com/immutablejs-versus-morijs">http://jsperf.com/immutablejs-versus-morijs</a></li>
  <li>Boost the Performance of an AngularJS Application Using Immutable Data: <a href="http://blog.mgechev.com/2015/03/02/immutability-in-angularjs-immutablejs/">http://blog.mgechev.com/2015/03/02/immutability-in-angularjs-immutablejs/</a></li>
  <li>React JS: <a href="http://facebook.github.io/react/">http://facebook.github.io/react/</a></li>
</ul>


          </div>
        </section>

        
          <section class="newsletter-content">
    <form action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=willmendesneto', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true;" >
        <h3 class="newsletter-title">Receive news by email</h3>
        <p class="newsletter-text">Subscribe to my newsletter to receive notifications of new articles in your e- mail</p>
        <input class="input-newsletter" type="email" name="email" placeholder="email"/>
        <input type="hidden" value="willmendesneto" name="uri"/>
        <input type="hidden" name="loc" value="en_US"/>
        <input class="btn btn-newsletter" type="submit" value="Subscribe" />
    </form>
</section>

        

        <footer class="post-footer">

          <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
  <a class="addthis_button_preferred_1"></a>
  <a class="addthis_button_preferred_2"></a>
  <a class="addthis_button_preferred_3"></a>
  <a class="addthis_button_preferred_4"></a>
  <a class="addthis_button_preferred_5"></a>
</div>


          <!-- <section class="share">
            
              
                <a class="icon-twitter" href="http://twitter.com/share?text=Micro+tunnings+with+Angular+apps+-+Part+2&amp;url=http://willmendesneto.github.io/2015/06/22/micro-tunnings-with-angular-apps-part-2"
                  onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                <i class="fa fa-twitter"></i><span class="hidden">twitter</span>
                </a>
              
            
              
                <a class="icon-facebook" href="//www.facebook.com/sharer.php?t=Micro+tunnings+with+Angular+apps+-+Part+2&amp;u=http://willmendesneto.github.io/2015/06/22/micro-tunnings-with-angular-apps-part-2"
                  onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;">
                <i class="fa fa-facebook"></i><span class="hidden">facebook</span>
                </a>
              
            
              
            
              
                <a class="icon-google-plus" href="https://plus.google.com/share?t=Micro+tunnings+with+Angular+apps+-+Part+2&amp;url=http://willmendesneto.github.io/2015/06/22/micro-tunnings-with-angular-apps-part-2"
                  onclick="window.open(this.href, 'google-plus-share', 'width=550,height=255');return false;">
                <i class="fa fa-google-plus"></i><span class="hidden">google-plus</span>
                </a>
              
            
          </section> -->
        </footer>
        <div class="bottom-teaser cf">
          <div class="isLeft">
            <section class="author">
              <div class="author-image" style="background-image: url(https://pt.gravatar.com/userimage/20307137/677413a79461cdfd62c8a65143214850.png?size=300)">Blog Logo</div>
              <h4>Wilson Mendes</h4>
              
                <p class="bio">Google Developer Expert (GDE) AngularJS and GDG Salvador Organizer. Musician and designer in his spare time.</p>
              
              <hr>
              <p class="published">Publicado em <time datetime="2015-06-22 00:00">22 Jun 2015</time></p>
            </section>
            <footer class="site-footer">
              <section class="poweredby">Mais um blog feito com <a href="http://jekyllrb.com">Jekyll</a></section>
              <a class="subscribe" href="/feed.xml" target="_blank"> <span class="tooltip"> <i class="fa fa-rss"></i> Assine o feed.</span></a>
            </footer>
          </div>
          
        </div>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'willmendesnetogithubio'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */

        'use strict';

        function load() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

          // Remove o evento
          window.onscroll = function() {};
        }

        window.onscroll = function() {
          if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight - 2000)) {
            load();
          }
        };
        </script>

        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </article>

    </main>
    <div class="bottom-closer">
      <div class="background-closer-image"  style="background-image: url(/assets/images/background-1.jpg)">
        Image
      </div>
      <div class="inner">
        <h1 class="blog-title">Wilson Mendes - Blog</h1>
        <h2 class="blog-description">This is my blog, where i talk about technologies</h2>
        <a href="/" class="btn">Back to Home</a>
      </div>
    </div>

    
<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-53c591e4471ce379" async="async"></script>

<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://hammerjs.github.io/dist/hammer.js"></script>
<script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/assets/js/index.js"></script>
<script type="text/javascript" src="/assets/js/readingTime.min.js"></script>
<script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-58169656-1', 'auto');
ga('send', 'pageview');

(function ($) {
  "use strict";
  $(document).ready(function(){

    var $window = $(window),
    $image = $('.post-image-image, .teaserimage-image');
    $window.on('scroll', function() {
      var top = $window.scrollTop();

      if (top < 0 || top > 1500) { return; }
      $image
        .css('transform', 'translate3d(0px, '+top/3+'px, 0px)')
        .css('opacity', 1-Math.max(top/700, 0));
    });
    $window.trigger('scroll');

    var height = $('.article-image').height();
    $('.post-content').css('padding-top', height + 'px');

    $('a[href*=#]:not([href=#])').click(function() {
      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
       && location.hostname == this.hostname) {
        var target = $(this.hash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
        if (target.length) {
          $('html,body').animate({ scrollTop: target.offset().top }, 500);
          return false;
        }
      }
    });
  });
}(jQuery));
</script>

  </body>
</html>
