<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Wilson Mendes - Blog</title>
    <description>This is my blog, where i talk about technologies</description>
    <link>http://willmendesneto.github.io/</link>
    <atom:link href="http://willmendesneto.github.io/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Mon, 25 Apr 2016 13:51:38 +0000</pubDate>
    <lastBuildDate>Mon, 25 Apr 2016 13:51:38 +0000</lastBuildDate>
    <generator>Jekyll v3.1.3</generator>
    
      <item>
        <title>Comunicação entre processos no ElectronJS</title>
        <description>&lt;p&gt;Fala galera. Este post é bem simples, apesar de focar alguns aspectos mais intermediários sobre o ElectronJS. Para quem não conhece é um framework para cross-platform desktop apps, com base nas tecnologias como NodeJS e Chromium.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Caso tenha interesse em uma introdução ao ElectronJS, acesse ao post do Henrique Sosa no Tableless &lt;a href=&quot;http://tableless.com.br/introducao-ao-electron/&quot;&gt;Introdução ao Electron&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;E neste momento você deve estar se perguntando: “Mas o que tem a ver o Electron com processos? Realmente tenho que saber sobre isso?”. A resposta é sim, você precisa (felizmente ou infelizmente). Infelizmente a documentação do ElectronJS é realmente deficitária neste ponto, daí a idéia deste post.&lt;/p&gt;

&lt;h1 id=&quot;sobre-os-processos&quot;&gt;Sobre os Processos&lt;/h1&gt;

&lt;p&gt;Todo o ciclo de sua aplicação electron está baseada nos processos:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;main: O processo principal é aonde lida-se diretamente com A API electron, como Tray, BrowserWindow, etc. Nele você dará o &lt;code&gt;bootstrap&lt;/code&gt; de sua aplicação com informações como tamanho da tela da aplicação, se existirá um menu com ícone integrado (Tray) além de outros opcionais. Para maiores detalhes acesse a &lt;a href=&quot;http://electron.atom.io/docs/all/&quot;&gt;documentação do Electron&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;renderer: Camada onde a aplicação realmente estará ativa e possui acessos ao DOM e stylesheets, por exemplo;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Em alguns momentos você quer criar uma maior e melhor interação entre usuário e app, como por exemplo inserir algumas preferências para o usuário. Vamos pensar no seguinte cenário:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;O usuário pode ir na página de “Preferências” e escolher se o app poderá enviar notificações nativas para o usuário.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Se pensarmos de uma maneira técnica, devemos pensar em armazenar estas informações localmente e carregarmos no momento do carregamento do aplicativo. Para isso vamos usar um banco simples, como o &lt;a href=&quot;https://www.sqlite.org/&quot;&gt;SQLite&lt;/a&gt; ou o &lt;a href=&quot;http://typicode.github.io/lowdb/&quot;&gt;LowDB&lt;/a&gt;. Alguns pontos que você precisa saber são:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A depender a sua opção de armazenamento de dados estas informações só poderão ser acessadas no momento que o processo de renderização iniciar;&lt;/li&gt;
  &lt;li&gt;O DOM não pode ser acessado no processo principal, somente no de renderização;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;conhecendo-os-ipcs&quot;&gt;Conhecendo os IPC’s&lt;/h1&gt;

&lt;p&gt;Para fazer esta comunicação entra em cena o &lt;a href=&quot;http://electron.atom.io/docs/v0.33.0/api/ipc-renderer/&quot;&gt;IPC Renderer&lt;/a&gt; e o &lt;a href=&quot;http://electron.atom.io/docs/v0.33.0/api/ipc-main-process/&quot;&gt;IPC Main&lt;/a&gt;. O IPC Main será utilizado no arquivo de bootstrap do aplicativo (configurado no &lt;code&gt;package.json&lt;/code&gt; do seu app) e o IPC Renderer será utilizado no arquivo principal do da sua aplicação realmente dita (com os comportamentos, acesso ao DOM, etc). Todos os IPC’s tem os mesmos eventos que são:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;.on(): cria o listener do evento;&lt;/li&gt;
  &lt;li&gt;.send(): faz o trigger do evento previamente criado;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Então para isso o seu arquivo principal terá o seguinte código.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;import {ipcMain} from &#39;electron&#39;;
...
// Iniciando o evento que aguarda o trigger do `ipc-renderer`
ipcMain.on(&#39;app:updateAppWithConfigInformations&#39;, function(event, config){
  ...
  // Retorno de sucesso ou erro para o `ipc-renderer`
  // Neste exemplo sempre retornará com sucesso
  event.sender.send(&#39;app:updateAppWithConfigInformationsCallback&#39;, {success: true});
});

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;E no seu processo de renderização você acessa da seguinte maneira.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;import ipcRenderer from &#39;ipc-renderer&#39;;

...
// Acesso ao seu formato de armazenamento
ipc.send(&#39;app:updateAppWithConfigInformations&#39;, config);
...
// Listener para verificar se a operação no processo principal foi finalizada com sucesso
ipcRenderer.on(&#39;app:updateAppWithConfigInformationsCallback&#39;, function(event, response) {
  // Validação do retorno do processo principal
});
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&quot;concluso&quot;&gt;Conclusão&lt;/h1&gt;

&lt;p&gt;Este exemplo é simples, lembrando o &lt;a href=&quot;http://redis.io/commands/ping&quot;&gt;comando PING entre o Redis Client e Redis Server&lt;/a&gt;. Desta forma, você consegue adicionar várias outras integrações entre os processos da sua aplicação desktop. Como esta integração não é muito bem documentada pelo framework (infelizmente vários projetos open source sofrem deste mal), fica uma dica bem interessante de sua utilização com uma situação real.&lt;/p&gt;

&lt;p&gt;E aí? Já utilizou esta comunicação entre processos antes? Qual foi a sua necessidade? Compartilhe sua experiência!&lt;/p&gt;

&lt;p&gt;Links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Tableless - Introdução ao Electron: &lt;a href=&quot;http://tableless.com.br/introducao-ao-electron/&quot;&gt;http://tableless.com.br/introducao-ao-electron/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Documentação do ElectronJs: &lt;a href=&quot;http://electron.atom.io/docs/all/&quot;&gt;http://electron.atom.io/docs/all/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;LowDB: &lt;a href=&quot;http://typicode.github.io/lowdb/&quot;&gt;http://typicode.github.io/lowdb/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;SQLite: &lt;a href=&quot;https://www.sqlite.org/&quot;&gt;https://www.sqlite.org/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;ElectronJS - IPC Renderer: &lt;a href=&quot;http://electron.atom.io/docs/v0.33.0/api/ipc-renderer/&quot;&gt;http://electron.atom.io/docs/v0.33.0/api/ipc-renderer/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;ElectronJS - IPC Main: &lt;a href=&quot;http://electron.atom.io/docs/v0.33.0/api/ipc-main-process/&quot;&gt;http://electron.atom.io/docs/v0.33.0/api/ipc-main-process/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Redis - Comando PING: &lt;a href=&quot;http://redis.io/commands/ping&quot;&gt;http://redis.io/commands/ping&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Mon, 25 Apr 2016 00:00:00 +0000</pubDate>
        <link>http://willmendesneto.github.io/2016/04/25/comunicacao-entre-processos-no-electron-js</link>
        <guid isPermaLink="true">http://willmendesneto.github.io/2016/04/25/comunicacao-entre-processos-no-electron-js</guid>
        
        <category>desktop</category>
        
        <category>apps</category>
        
        <category>nodejs</category>
        
        
        <category>desktop</category>
        
        <category>apps</category>
        
        <category>nodejs</category>
        
      </item>
    
      <item>
        <title>Otimizando o watch do jekyll</title>
        <description>&lt;p&gt;Este post é bem simples, mas crucial para melhorar o seu trabalho, além de ser o primeiro post do ano, claro =).&lt;/p&gt;

&lt;h1 id=&quot;introduo&quot;&gt;Introdução&lt;/h1&gt;

&lt;p&gt;O &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; é um gerador que transforma seus arquivos markdown em websites e/ou blogs baseado em arquivos estáticos. Mas quando seu projeto possui uma massa de dados (neste caso, arquivos markdown) relativamente grande percebe-se o tempo de compilação de mardown para páginas estáticas pode ser um problema.&lt;/p&gt;

&lt;h1 id=&quot;o-comando-serve&quot;&gt;O comando serve&lt;/h1&gt;

&lt;p&gt;O comando &lt;code&gt;jekyll &amp;lt;serve|server|s&amp;gt;&lt;/code&gt; é a base de tudo. A partir dele é possível rodar o servidor local do Jekyll para que possamos visualizar o conteúdo criado. Ele aceita alguns atributos (para visualizar lista completa basta dar uma olhada no output do comando &lt;code&gt;jekyll --help&lt;/code&gt;). Um deles, o &lt;code&gt;--limit_posts&lt;/code&gt; é bem interessante, pois nele podemos limitar a quantidade de posts a serem renderizados pelo comando &lt;code&gt;server&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ jekyll serve -w --limit_posts &amp;lt;number-of-posts&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Sendo que o &lt;code&gt;&amp;lt;number-of-posts&amp;gt;&lt;/code&gt; é o número que para você é necessário para validar o layout e o conteúdo. Pode ser 1, 10, 20 e assim sucessivamente. Isso é bem bacana, pois podemos otimizar o feedback de nossas alterações/atualizações.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Caso esteja utilizando o Jekyll &amp;gt;= 3.0 utilize o comando &lt;code&gt;jekyll serve --incremental&lt;/code&gt; para uma melhoria no tempo de resposta&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;concluso&quot;&gt;Conclusão&lt;/h1&gt;

&lt;p&gt;Esta dica apesar de simples pode ser extremamente útil, pois ter um feedback mais rápido do seu código quer dizer também em otimização no seu workflow. E no caso de estar trabalhando com um projeto com mais de 1.000 arquivos markdown a compilação em ambiente de desenvolvimento pode ser algo realmente impactante.&lt;/p&gt;

&lt;p&gt;E aí? Vocês tem outras dicas para otimização do Jekyll? Qual a sua? Compartilhe sua experiência!&lt;/p&gt;

&lt;p&gt;Links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Jekyll: &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;https://jekyllrb.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Tue, 12 Jan 2016 00:00:00 +0000</pubDate>
        <link>http://willmendesneto.github.io/2016/01/12/otimizando-o-watch-do-jekyll</link>
        <guid isPermaLink="true">http://willmendesneto.github.io/2016/01/12/otimizando-o-watch-do-jekyll</guid>
        
        <category>jekyll</category>
        
        <category>otimização</category>
        
        
        <category>otimização</category>
        
        <category>ruby</category>
        
      </item>
    
      <item>
        <title>Checando sua build pipeline no Snap-CI via NodeBots utilizando NodeJS e Arduino</title>
        <description>&lt;h1 id=&quot;introduo&quot;&gt;Introdução&lt;/h1&gt;

&lt;p&gt;A idéia desta postagem é compartilhar alguns conceitos básicos sobre a utilização de open hardware manipulando-o a partir do Javascript.&lt;/p&gt;

&lt;p&gt;Sempre que começamos o contato com o &lt;a href=&quot;https://www.arduino.cc/&quot;&gt;Arduino&lt;/a&gt;, por exemplo, fazemos o exemplo de piscas as leds, comumento conhecido como blink. Neste exemplo mostrarei uma forma mais atrativa de abordar este exemplo para o nosso cotidiano, baseado em modelos como Hubot e Retaliation para checarmos a nossa build pipeline e averiguarmos a saúde de nossa aplicação utilizando &lt;a href=&quot;https://www.arduino.cc/&quot;&gt;Arduino&lt;/a&gt; + NodeJS + &lt;a href=&quot;https://johnny-five.io/&quot;&gt;Johnny-Five&lt;/a&gt; em uma introdução a &lt;a href=&quot;https://nodebots.io/&quot;&gt;NodeBots&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;build-pipeline&quot;&gt;Build pipeline&lt;/h1&gt;

&lt;p&gt;Em algumas apresentações percebi que este termo não é conhecido por muitas pessoas, mesmo as que são mais familiarizadas com abordagens como integração contínua e entrega contínua. Build pipeline é um conceito que foi construído em meados de 2005 e é baseado na idéia de paralelização de tarefas, separando cada etapa em pequenos critérios de aceitação para a aplicação. Vale lembrar que esses passos podem automáticos ou manuais.&lt;/p&gt;

&lt;p&gt;Um exemplo de um serviço gratuito que utiliza este conceito é o &lt;a href=&quot;https://snap-ci.com/&quot;&gt;Snap-CI&lt;/a&gt;, que te dá várias facilidades, suporte a outras linguagens, deploy em diversas plataformas, dentre outras funcionalidades bem bacanas.&lt;/p&gt;

&lt;p&gt;Para este exemplo de nosso build-checker criei um projeto de exemplo no github e o integrei no nosso &lt;a href=&quot;https://snap-ci.com/&quot;&gt;Snap-CI&lt;/a&gt;. Após as configurações iniciais (uma das coisas bacanas no projeto é que ele tem um guia bem bacana e simples) podemos verificar o nosso build mais atual a partir da aba de notificações. Você&lt;/p&gt;

&lt;h1 id=&quot;nodebots&quot;&gt;NodeBots&lt;/h1&gt;

&lt;p&gt;NodeBots é um conceito que une a linguagem de programação Javascript e robótica. Isso foi possível graças ao surgimento do NodeJS, que possibilita a utilização do Javascript em outros ambientes além dos navegadores (como em geladeiras, micro controladores e outras opções) e o pacote node-serialport, criado por Chris Williams, permitindo que os desenvolvedores controlassem hardware a partir da utilização do javascript.&lt;/p&gt;

&lt;h1 id=&quot;arduino&quot;&gt;Arduino&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://www.arduino.cc/&quot;&gt;Arduino&lt;/a&gt; é uma plataforma open-source baseada em hardware e software de fácil utilização. Com isso qualquer um pode construir interações utilizando-o em projetos dos mais diversos. Até podendo evoluir aos seu bel prazer, já que o projeto é de código aberto.&lt;/p&gt;

&lt;p&gt;Dentre as suas vantagens encontramos:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Custo: o valor de um arduino é menor do que $50&lt;/li&gt;
  &lt;li&gt;Cross-platform: Arduino é uma plataforma open-source
compatível com todos os sistemas operacionais;&lt;/li&gt;
  &lt;li&gt;Simples: Não exige de quem vai manipulá-lo um vasto conhecimento em eletrônica. Basta ter uma noção básica de desenvolvimento e você já pode fazer coisas bem bacanas;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Baseado nestas características, vamos ao que interessa o nosso projeto de introdução a &lt;a href=&quot;https://nodebots.io/&quot;&gt;NodeBots&lt;/a&gt; com a ferramenta &lt;a href=&quot;https://github.com/willmendesneto/build-checker&quot;&gt;build-checker&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;build-checker-o-projeto&quot;&gt;Build checker: o projeto&lt;/h1&gt;

&lt;p&gt;O projeto foi baseado no CCmenu, projeto criado pelo ThoughtWorker Erik Doernenburg para checar e mostrar o
status de um determinado projeto em um servidor de integração contínua.&lt;/p&gt;

&lt;p&gt;No nosso caso passamos a idéia para algo físico, utilizando open hardware e NodeJS. Nossa aplicação consumirá um XML com as informações retornadas pelo &lt;a href=&quot;https://snap-ci.com/&quot;&gt;Snap-CI&lt;/a&gt;. A partir destes dados checaremos o estado atual da aplicação e o retornaremos utilizando alguns artifícios como Arduino e Led’s para avisar ao nosso time de que algo de errado aconteceu com o nosso build e devemos corrigir o quanto antes.&lt;/p&gt;

&lt;p&gt;Primeiramente precisamos instalar o NodeJS em nossa máquina. Sua instalação é muito simples e pode ser feita seguindo as instruções contidas no próprio site do projeto.&lt;/p&gt;

&lt;p&gt;O nosso próximo passo é a instalação do Arduino IDE. Após instalado, vamos nas opções &amp;gt; Arquivos &amp;gt; Exemplos &amp;gt; StandardFirmata.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/open-firmata-example.png&quot; alt=&quot;Abrindo opções de exemplo no Arduino IDE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Com o Arduino plugado no nosso computador rodamos o código a seguir e aguardamos a mensagem da IDE de que tudo ocorreu com sucesso.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/upload-firmata-example.png&quot; alt=&quot;Tudo ok. Firmata rodando&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Agora vamos ao nosso build checker. Para isso utilizaremos o pacote NodeJs &lt;a href=&quot;https://johnny-five.io/&quot;&gt;Johnny-Five&lt;/a&gt;. O código é bem simples.&lt;/p&gt;

&lt;noscript&gt;&lt;pre&gt;var request = require(&amp;#39;request&amp;#39;);
var five = require(&amp;#39;johnny-five&amp;#39;);
var board = new five.Board();

var CONFIG = {
  LED: {
    SUCCESS: 12,
    ERROR: 10
  },
  CI_CCTRACKER_URL: &amp;#39;https://snap-ci.com/willmendesneto/generator-reactor/branch/master/cctray.xml&amp;#39;,
  INTERVAL: 500
};

function debounce(func, wait, immediate) {
	var timeout;
	return function() {
		var context = this, args = arguments;
		var later = function() {
			timeout = null;
			if (!immediate) func.apply(context, args);
		};
		var callNow = immediate &amp;amp;&amp;amp; !timeout;
		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) func.apply(context, args);
	};
};

board.on(&amp;#39;ready&amp;#39;, function() {

  var ledSuccess = new five.Led(CONFIG.LED.SUCCESS);
  var ledError = new five.Led(CONFIG.LED.ERROR);

  debounce(function(){
    request(CONFIG.CI_CCTRACKER_URL, function(error, response, body) {
      if (error) {
        console.log(&amp;#39;Somethink is wrong with your CI =(&amp;#39;);
        return;
      }

      if(body.indexOf(&amp;#39;Success&amp;#39;) !== -1) {
        console.log(&amp;#39;Your CI is ok!&amp;#39;);

        ledSuccess.on();
        ledError.off();

      } else {
        console.log(&amp;#39;Somethink is wrong with your CI =(. Fix it!!!!&amp;#39;);

        ledSuccess.off();
        ledError.on();
      }

    });
  }, CONFIG.INTERVAL);

});&lt;/pre&gt;&lt;/noscript&gt;
&lt;script src=&quot;https://gist.github.com/willmendesneto/b5f92a932ec3b7ffadd0.js&quot;&gt; &lt;/script&gt;

&lt;p&gt;Como vocês podem ver a interface do Johnny-Five é bem intuitiva. Ele possui o evento &lt;code&gt;board.on(&#39;ready&#39;)&lt;/code&gt; que é similar ao evento &lt;code&gt;$(document).ready()&lt;/code&gt; do jQuery. Quando todo o ambiente está preparado, iniciamos com base no conteúdo desta função.&lt;/p&gt;

&lt;p&gt;Agora basta plugarmos 2 leds: 1 vermelha (para sinalizar o build quebrado) e 1 verde (para sinalizar o build sem problemas). Colocamos o build de sucesso na porta de número 12 + uma porta GND do nosso Arduino e o build de erro na porta de número 10 + uma porta GND do nosso Arduino, como podem ver na imagem.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/connecting-arduino-leds.png&quot; alt=&quot;Conectando o Arduino: portas e LEDS&quot; /&gt;&lt;/p&gt;

&lt;p&gt;A partir daí criamos uma requisição para pegar o conteúdo via GET no &lt;a href=&quot;https://snap-ci.com/&quot;&gt;SNAP-CI&lt;/a&gt;, o nosso serviço de integração contínua. O SNAP-CI utiliza um conceito de build pipeline que é bem interessante e um dos prós dele é o de feedbacks mais rápidos (dando a possibilidade de paralelismo ou não) e definição de etapas para o build total. &lt;a href=&quot;http://www.martinfowler.com/articles/continuousIntegration.html&quot;&gt;Para maiores informações sobre Build Pipeline recomendo esta leitura&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Vamos no site do SNAP-CI, efetuamos o login (caso não tenha cadastro você terá que criar um, mas é bem rápido =) ) e cadastramos um projeto.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/snap-ci-setup-repo.png&quot; alt=&quot;SNAP-CI &amp;quot;Adicionar novo Repositório&amp;quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/snap-ci-choosing-repo.png&quot; alt=&quot;Adicionando Repositório para integração&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ao cadastrar o projeto ele vai aparecer na parte superior, à direita, um campo com o nome “CCTray” que, ao clicarmos, direciona para o arquivo XML com as informações do build.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/snap-ci-cctray.png&quot; alt=&quot;SNAP-CI: Alerta CCTray&quot; /&gt;&lt;/p&gt;

&lt;p&gt;São estas informações que serão consultadas pelo nosso build-checker.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/snap-ci-build-xml.png&quot; alt=&quot;Arquivo &amp;quot;cctray.xml&amp;quot; com as informações do BUILD&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ele consultará os dados em um intervalo de 500 milisegundos previamente configurado e verifica o estado atual do build, baseado nas informações de todas as pipelines. Caso não haja a palavra “Success” no response da requisição, algo de errado aconteceu e o nosso build-checker irá acender a luz vermelha, caso contrário a luz verde continua acesa, sinalizando que está tudo ok.&lt;/p&gt;

&lt;p&gt;Para conferirmos o resultado final, basta rodarmos os comandos&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ npm install # instala todas as dependências do projeto
$ node index.js # roda o código do build checker
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Caso queiram saber mais sobre o projeto, &lt;a href=&quot;https://github.com/willmendesneto/build-checker&quot;&gt;cliquem aqui e o projeto Build-Checker no github&lt;/a&gt;. O código é open-source, então sintam-se à vontade para feedbacks, sugestões e críticas construtivas. Lembrando também que estrelas no github são sempre bem vindas também!&lt;/p&gt;

&lt;p&gt;Este projeto foi baseado no projeto &lt;a href=&quot;https://www.youtube.com/watch?v=1EGk2rvZe8A&quot;&gt;Relatiation&lt;/a&gt;, feito pelo pessoal do Github para verificar a situação do build no Jenkins e dar um feedback ao time. Fica a dica deste vídeo bem simples e bacana mostrando como o Retaliation funciona.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=1EGk2rvZe8A&quot;&gt;&lt;img src=&quot;http://img.youtube.com/vi/1EGk2rvZe8A/0.jpg&quot; alt=&quot;Retaliation&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;concluso&quot;&gt;Conclusão&lt;/h1&gt;

&lt;p&gt;Este é um projeto bem introdutório do poder nos &lt;a href=&quot;https://nodebots.io/&quot;&gt;NodeBots&lt;/a&gt;, utilizando um dos exemplos mais simples para introdução ao Arduino, que é o código que faz com que uma led pisque (caso tenha interesse em ver como este código funciona, pesquise por “blink”). Este exemplo de led piscando é algo totalmente didático, mas ao utilizarmos NodeJS percebemos todo o poder que temos para aliar vários conceitos juntamente a um dos exemplos mais clássicos do Arduino. A partir daí é com você.&lt;/p&gt;

&lt;p&gt;E aí? O que você tem feito com &lt;a href=&quot;https://nodebots.io/&quot;&gt;NodeBots&lt;/a&gt;, Javascript e/ou Arduino? Compartilhe sua experiência!&lt;/p&gt;

&lt;p&gt;Links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Build Checker: &lt;a href=&quot;https://github.com/willmendesneto/build-checker&quot;&gt;http://github.com/willmendesneto/build-checker&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Johnny-Five: &lt;a href=&quot;https://johnny-five.io/&quot;&gt;http://johnny-five.io/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;SNAP-CI: &lt;a href=&quot;https://snap-ci.com/&quot;&gt;https://snap-ci.com/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Arduino: &lt;a href=&quot;https://www.arduino.cc/&quot;&gt;https://www.arduino.cc/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;NodeBots: &lt;a href=&quot;https://nodebots.io/&quot;&gt;http://nodebots.io/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Build Pipeline: &lt;a href=&quot;http://www.martinfowler.com/articles/continuousIntegration.html&quot;&gt;http://www.martinfowler.com/articles/continuousIntegration.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Retaliation: &lt;a href=&quot;https://www.youtube.com/watch?v=1EGk2rvZe8A&quot;&gt;https://www.youtube.com/watch?v=1EGk2rvZe8A&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Wed, 28 Oct 2015 00:00:00 +0000</pubDate>
        <link>http://willmendesneto.github.io/2015/10/28/checando-sua-build-pipeline-no-snap-ci-via-nodebots-utilizando-nodejs-e-arduino</link>
        <guid isPermaLink="true">http://willmendesneto.github.io/2015/10/28/checando-sua-build-pipeline-no-snap-ci-via-nodebots-utilizando-nodejs-e-arduino</guid>
        
        <category>nodebots</category>
        
        <category>arduino</category>
        
        <category>nodejs</category>
        
        
        <category>frontend</category>
        
        <category>nodebots</category>
        
        <category>nodejs</category>
        
      </item>
    
      <item>
        <title>Multiple credentials check with Basic Auth</title>
        <description>&lt;h2 id=&quot;introduction&quot;&gt;INTRODUCTION&lt;/h2&gt;

&lt;p&gt;The idea of this post is be simple, but helpful. In a specific app was needed a first check based in http authentication via browser based in first page load and in some user operations.&lt;/p&gt;

&lt;p&gt;There are a lot of node package that give for us a API with certain contracts, but jus based in only one user credentials.&lt;/p&gt;

&lt;h2 id=&quot;basic-auth-middleware&quot;&gt;BASIC-AUTH MIDDLEWARE&lt;/h2&gt;

&lt;p&gt;This idea uses the &lt;a href=&quot;https://en.wikipedia.org/wiki/Basic_access_authentication&quot;&gt;HTTP Basic access authentication&lt;/a&gt; implementation, that is a simplest technique for enforce access controls to web resource. This approach uses static and standard fields passed in requests via HTTP headers. Because this doesn’t require cookies, session identifier or login pages.&lt;/p&gt;

&lt;p&gt;For attend this specifications, we will use the &lt;a href=&quot;http://github.com/jshttp/basic-auth&quot;&gt;basic-auth node package&lt;/a&gt;. This is very simple, but not attend our specs by default, so one approach is create an abstraction for this module.&lt;/p&gt;

&lt;p&gt;For this case we will use this abstraction, passing via callback for requests that need check user(s).&lt;/p&gt;

&lt;noscript&gt;&lt;pre&gt;&amp;#39;use strict&amp;#39;;

/**
 *  Multiple credentials check with Basic Auth node package
 * 
 *  How to use (ExpresJS example):
 *
 *  var BASIC_AUTH = [
 *    {
 *      name: process.env.BASIC_AUTH_USERNAME, 
 *      pass: process.env.BASIC_AUTH_PASSWORD
 *    },
 *    {
 *      name: process.env.BASIC_AUTH_USERNAME2, 
 *      pass: process.env.BASIC_AUTH_PASSWORD2
 *    }
 *  ];
 * 
 *  var basicAuthMultipleCredentials = require(&amp;#39;./basic-auth-multiple-credentials&amp;#39;);
 *  router.get(&amp;#39;/multiple-credential-check&amp;#39;, basicAuthMultipleCredentials(BASIC_AUTH), function(req, res) {
 *    // ... your code
 *  });
 * 
 * router.get(&amp;#39;/single-credential-check&amp;#39;, basicAuthMultipleCredentials(BASIC_AUTH[0]), function(req, res) {
 *    // ... your code
 *  });
 */

var auth = require(&amp;#39;basic-auth&amp;#39;);

module.exports = function(usersAndPasswords) {
  if (!(usersAndPasswords instanceof Array)) {
    usersAndPasswords = [usersAndPasswords];
  }

  return function(req, res, next) {
    var credentials = auth(req);
    var authenticated = function(credentials){
      return usersAndPasswords.filter(function(registeredUser) {
        return credentials.name === registeredUser.name &amp;amp;&amp;amp; 
              credentials.pass === registeredUser.pass;
      }).length === 1;
    };

    if (!credentials || !authenticated(credentials)) {
      res.statusCode = 401;
      res.setHeader(&amp;#39;WWW-Authenticate&amp;#39;, &amp;#39;Basic realm=&amp;quot;example&amp;quot;&amp;#39;);
      res.end(&amp;#39;Access denied&amp;#39;);
    } else {
      next();
    }
  };
};
&lt;/pre&gt;&lt;/noscript&gt;
&lt;script src=&quot;https://gist.github.com/willmendesneto/5af17f5ef8f1c3957a2c.js&quot;&gt; &lt;/script&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;CONCLUSION&lt;/h2&gt;

&lt;p&gt;This approach is very simple and it’s not recommended if you need of a high level of security. But in some cases that you need check user credentials in one more layer (checking in other layers/ways too) can be very useful.&lt;/p&gt;

&lt;p&gt;Thanks and see you soon!&lt;/p&gt;

&lt;p&gt;Links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Basic-Auth: &lt;a href=&quot;http://github.com/jshttp/basic-auth&quot;&gt;http://github.com/jshttp/basic-auth&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Basic Access Authentication: &lt;a href=&quot;https://en.wikipedia.org/wiki/Basic_access_authentication&quot;&gt;https://en.wikipedia.org/wiki/Basic_access_authentication&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Thu, 09 Jul 2015 00:00:00 +0000</pubDate>
        <link>http://willmendesneto.github.io/2015/07/09/multiple-credentials-check-with-basic-auth</link>
        <guid isPermaLink="true">http://willmendesneto.github.io/2015/07/09/multiple-credentials-check-with-basic-auth</guid>
        
        <category>nodejs,</category>
        
        <category>javascript,</category>
        
        <category>backend</category>
        
        
        <category>nodejs,</category>
        
        <category>javascript,</category>
        
        <category>backend</category>
        
      </item>
    
      <item>
        <title>Micro tunings em Angular apps - Pt 1</title>
        <description>&lt;p&gt;&lt;a class=&quot;page-link&quot; href=&quot;/2015/05/11/micro-tunnings-with-angular-apps-part-1/&quot;&gt;Veja a versão em inglês&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;introduo&quot;&gt;INTRODUÇÃO&lt;/h2&gt;

&lt;p&gt;Muitas aplicações estão usando Angular como framework Frontend e isso é muito bom, mas com o passar do tempo e evolução do software outros aspectos do produto/serviço possuem importância fundamental também, como manutenibilidade e… performance, claro!&lt;/p&gt;

&lt;p&gt;Mas quando falamos sobre performance, quais são as (re)soluções que voê tem em mente?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mais máquinas?&lt;/li&gt;
  &lt;li&gt;Mais cache?&lt;/li&gt;
  &lt;li&gt;Mais minificação/compressão?&lt;/li&gt;
  &lt;li&gt;Mais chamadas assíncronas?&lt;/li&gt;
  &lt;li&gt;Utilizar HTTP2?&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;Não esconda os seus problemas&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Sim, todos estes são idéias sensacionais, mas &lt;strong&gt;não resolvem o problema realmente&lt;/strong&gt;. Porque não? Todas estas idéias são &lt;strong&gt;paliativos&lt;/strong&gt;, porque you nunca está atacando o real problema, com o tempo, ele irá aparecer novamente.&lt;/p&gt;

&lt;h2 id=&quot;real-time-web---conceitos&quot;&gt;REAL-TIME WEB - CONCEITOS&lt;/h2&gt;

&lt;p&gt;Angular é utilizado em vários apps, incluindo apps que trabalham com tempo real, seja usando web socket ou tree way data binding (com Firebase, por exemplo). Mas antes de tudo isso vamos conhecer alguns aspectos mais teóricos, certo?&lt;/p&gt;

&lt;p&gt;Quando o usuário acessa sua aplicação e os dados são atualizados em uma velocidade &amp;lt;= 100 milisegundos: isto sim é o que conhecemos como tempo real.&lt;/p&gt;

&lt;p&gt;Atualmente tempo real não existe. O que existe é um tipo de “truque”, já que o nosso cérebro não consegue processar tudo o que acontece neste período de tempo. Por causa disso ele entende que tudo acontece em tempo real.&lt;/p&gt;

&lt;p&gt;Two-way data binding ajuda bastante nesta tarefa, já que no Angular ele é baseado no &lt;a href=&quot;http://en.wikipedia.org/wiki/Hollywood_principle&quot;&gt;princípio de Hollywood&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Devs não precisam entender como funciona o Two-way data binding por debaixo dos panos, inicialmente.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Sim, isto é verdade, mas quando você tem uma aplicação com muitos bindings todos os tipos de truques são bem vindos, como:&lt;/p&gt;

&lt;h3 id=&quot;minimize-bindings-e-watchers&quot;&gt;&lt;strong&gt;Minimize bindings e watchers&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Sempre que puder, minimize bindings e watchers, tente utilizar &lt;code&gt;Object.freeze&lt;/code&gt; (&lt;a href=&quot;http://jsperf.com/freeze-vs-seal-vs-normal/19&quot;&gt;dê uma olhada nesta comparação entre &lt;code&gt;Object.freeze&lt;/code&gt;, &lt;code&gt;Object.seal&lt;/code&gt; e Json object com comportamento padrão no jsperf&lt;/a&gt;)&lt;/p&gt;

&lt;h3 id=&quot;ng-if-ao-invs-de-ng-show&quot;&gt;&lt;strong&gt;ng-if ao invés de ng-show&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Use ng-if ao invés de ng-show sempre que puder, já que o  ng-show manipula o atributo &lt;code&gt;display&lt;/code&gt;do elemento, but o mesmo já existe no DOM e o two-way data binding já está ativo, o que impacta na performance.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;div ng-if=&quot;!vm.usingOneTimeBinding&quot;&amp;gt;
  &amp;lt;p&amp;gt;
    Makes more sense
  &amp;lt;/p&amp;gt;
&amp;lt;/div&amp;gt;

&amp;lt;div ng-show=&quot;!vm.usingOneTimeBinding&quot;&amp;gt;
  &amp;lt;p&amp;gt;
    Please, avoid this approach
  &amp;lt;/p&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;filter--two-way-data-binding--no-por-favor&quot;&gt;&lt;strong&gt;$filter + two-way data binding === não, por favor!&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Manipule os dados uma única vez e ao invés de utilizar o service $filter no template;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
this.users = [
  {firstName: &#39;eu&#39;, lastName: &#39;ea&#39;},
  {firstName: &#39;William&#39;, lastName: &#39;Wallace&#39;}
];
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Baseado nestes dados, ao invés de utilizar um $filter no template HTML…&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;...
&amp;lt;div ng-repeat=&quot;item in vm.users&quot;&amp;gt;
  
&amp;lt;/div&amp;gt;
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;… com isso os efeitos na performance são bem consideráveis quando você faz o tratamento antes…&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/using-filters-in-template.png&quot; alt=&quot;Quando você usa o filter no template&quot; /&gt;&lt;/p&gt;

&lt;p&gt;… ao invés disso, manipule a stream de dados no controller/service/etc, passando os dados com o seu formato final esperado para somente serem renderizados no template. Neste exemplo usamos a função &lt;code&gt;.map()&lt;/code&gt; do javascript para isso.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
this.users.map(function(el){
  el.username = el.firstName + &#39; &#39; + el.lastName;
});
...
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;...
&amp;lt;div ng-repeat=&quot;item in vm.users&quot;&amp;gt;
  
&amp;lt;/div&amp;gt;
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;ngrepeat--track-by&quot;&gt;&lt;strong&gt;ngRepeat + Track by&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Track by em elementos são sempre bem vindos! &lt;code&gt;ngRepeat&lt;/code&gt; é mais performático quando utiliza algo para indexar os elementos.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;
&amp;lt;!-- sem track by --&amp;gt;
&amp;lt;div ng-repeat=&quot;item in vm.users&quot;&amp;gt;
  
&amp;lt;/div&amp;gt;

&amp;lt;!-- com track by --&amp;gt;
&amp;lt;div ng-repeat=&quot;item in vm.users track by $index&quot;&amp;gt;
  
&amp;lt;/div&amp;gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Em um simples exemplo com e sem a utilização do &lt;code&gt;ngRepeat + Track by&lt;/code&gt; os resultados são bem expressivos (Baseado em uma lista com 10 elementos somente. Imagine então em uma lista com mais elementos).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/ng-repeat-track-by-comparison.png&quot; alt=&quot;Comparação do template com ngRepeat e track by&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;one-time-binding-usage&quot;&gt;&lt;strong&gt;One-time-binding usage&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Use one-time-binding sempre que puder, seu app e os usuários ficarão eternamente gratos!&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;div ng-repeat=&quot;item in ::vm.users track by $index&quot; &amp;gt;
  
&amp;lt;/div&amp;gt;

&amp;lt;div ng-if=&quot;::vm.users.loggedIn&quot;&amp;gt;
  ...
&amp;lt;/div&amp;gt;

&amp;lt;div ng-class=&quot;::{ &#39;my-awesome-class&#39;: vm.users.loggedIn}&quot;&amp;gt;
  ...
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;use-async-patterns&quot;&gt;Use async patterns&lt;/h3&gt;

&lt;p&gt;Em qualquer app que usa ou é baseado em javascript, é sempre bom o uso de patterns assíncronos. Patterns como &lt;code&gt;debounce&lt;/code&gt; são muito fáceis de serem implementados e adicionados graças a diretiva &lt;code&gt;ngModelOptions&lt;/code&gt;. Esta diretiva habilita patterns assíncronos, dando mais poder ao seu app.&lt;/p&gt;

&lt;p&gt;Debounce é um pattern utilizado para verificar quantas vezes o evento/método foi chamado em sua aplicação. Um exemplo de como utilizá-lo é pensarmos em uma simples de busca em uma lista de itens.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;form autocomplete=&quot;off&quot; role=&quot;form&quot;&amp;gt;
  &amp;lt;div class=&quot;form-group&quot;&amp;gt;
    &amp;lt;fieldset&amp;gt;
      &amp;lt;input type=&quot;search&quot; name=&quot;search&quot; id=&quot;search&quot; placeholder=&quot;Search...&quot; ng-model=&quot;vm.searchItem&quot; class=&quot;form-control&quot; /&amp;gt;
    &amp;lt;/fieldset&amp;gt;
  &amp;lt;/div&amp;gt;
&amp;lt;/form&amp;gt;
&amp;lt;ul&amp;gt;
  &amp;lt;li ng-repeat=&quot;item in vm.users | myFilter:vm.searchItem&quot;&amp;gt;
    
  &amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Neste exemplo a busca será chamada cada vez que o usuário adicionar ou remover um caracter no campo de busca do formulário. Mas isso não é uma boa idéia, então vamos dar uma olhada agora e ver como ficaria este exemplo usando &lt;code&gt;debounce&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
this.myModelOptions = {
  updateOn: &#39;keydown blur&#39;,
  debounce: {
      keydown: 250, //for search we don&#39;t want to update server during user type
      blur: 250 //when user move on to the next field, we update immediately
  }
};
...
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;form autocomplete=&quot;off&quot; role=&quot;form&quot;&amp;gt;
  &amp;lt;div class=&quot;form-group&quot;&amp;gt;
    &amp;lt;fieldset&amp;gt;
      &amp;lt;input type=&quot;search&quot; name=&quot;search&quot; id=&quot;search&quot; placeholder=&quot;Search...&quot; ng-model=&quot;vm.searchItem&quot; class=&quot;form-control&quot; ng-model-options=&quot;vm.myModelOptions&quot; /&amp;gt;
    &amp;lt;/fieldset&amp;gt;
  &amp;lt;/div&amp;gt;
&amp;lt;/form&amp;gt;
&amp;lt;ul&amp;gt;
  &amp;lt;li ng-repeat=&quot;item in vm.users | myFilter:vm.searchItem&quot;&amp;gt;
    
  &amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Desta forma o evento/método de busca será disparado somente após 250 milisegundos do evento de &lt;code&gt;keydown&lt;/code&gt; ou &lt;code&gt;blur&lt;/code&gt; serem acionados. O número que foi impresso no DevTools é baseado na inserção de somente 3 caracteres no formulário de busca.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/debounce-comparison.png&quot; alt=&quot;Comparação: busca utilizando Debounce e busca padrão&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Para o patter &lt;code&gt;memoization&lt;/code&gt;, a abordagem de utilização do &lt;code&gt;$provide.decorator()&lt;/code&gt; é uma tática excelente, já que ele modifica o comportamente padrão de componentes angular, melhorando e habilitando cache por padrão ou outras possibilidades, por exemplo.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// Creating a new module for enable cache by default
angular.module(&#39;perf.rootScope&#39;, [])
  // $rootScope modified
  .decorate(&#39;$rootScope&#39;, function($delegate){
    $delegate.__proto__.$watch = function() {
      ...
    };

    $delegate.__proto__.$apply = function() {
      ...
    };

    return $delegate;
  });

...
angular.module(&#39;myApp&#39;, &#39;perf.rootScope&#39;]);
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;concluso&quot;&gt;CONCLUSÃO&lt;/h2&gt;

&lt;p&gt;Neste primeiro post falamos sobre conceitos de Tempo Real e alguns aspectos sobre micro tunagens mais simples, como boas práticas sobre como utilizar componentes do core do angular, otimizações Javascript e padrões (funcionais e assíncronos). No próximo post vamos falar sobre outros conceitos como estrutura de dados imutáveis, como utilizá-lo em seu app, bibliotecas que podem nos ajudar nesta etapa.&lt;/p&gt;

&lt;p&gt;Você utiliza este ou outros métodos? Comente e compartilhe a sua experiência aqui.&lt;/p&gt;

&lt;p&gt;Obrigado e até mais!&lt;/p&gt;

&lt;p&gt;Links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Princípio de Hollywood: &lt;a href=&quot;http://en.wikipedia.org/wiki/Hollywood_principle&quot;&gt;http://en.wikipedia.org/wiki/Hollywood_principle&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;JsPerf: Object.freeze, Object.seal and object with default behaviour: &lt;a href=&quot;http://jsperf.com/freeze-vs-seal-vs-normal/19&quot;&gt;http://jsperf.com/freeze-vs-seal-vs-normal/19&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Sun, 28 Jun 2015 00:00:00 +0000</pubDate>
        <link>http://willmendesneto.github.io/2015/06/28/micro-tunings-em-angular-apps-pt-1</link>
        <guid isPermaLink="true">http://willmendesneto.github.io/2015/06/28/micro-tunings-em-angular-apps-pt-1</guid>
        
        <category>performance,</category>
        
        <category>frontend,</category>
        
        <category>angular,</category>
        
        <category>web</category>
        
        <category>performance,</category>
        
        <category>tips,</category>
        
        <category>tricks</category>
        
        
        <category>performance,</category>
        
        <category>frontend,</category>
        
        <category>angular</category>
        
      </item>
    
      <item>
        <title>Micro tunnings with Angular apps - Part 2</title>
        <description>&lt;h2 id=&quot;introduction&quot;&gt;INTRODUCTION&lt;/h2&gt;

&lt;p&gt;In last post we talking about real-time web concepts, angular best practices, one-time-binding and how to integrate javascript async patterns in angular apps. Now lets take a look in some aspects of functional programming. So let’s go?&lt;/p&gt;

&lt;h2 id=&quot;functional-programming---concepts&quot;&gt;FUNCTIONAL PROGRAMMING - CONCEPTS&lt;/h2&gt;

&lt;p&gt;Here I will talk about functional programming concepts in angular apps.&lt;/p&gt;

&lt;h2 id=&quot;immutable-data-structure&quot;&gt;IMMUTABLE DATA STRUCTURE&lt;/h2&gt;

&lt;p&gt;An immutable data are based in a data structure that can’t be modified in any way after its creation. The only way to effective modify it would be to make a mutable copy or something similar (slightly modifying the parameters you pass to the constructor of the new one). One of the most caracteristics of these structure are the thread safe behaviour (if you can’t modify/update the data, you can understand too that your data is really safe of corruption) and your usage for hash keys.&lt;/p&gt;

&lt;p&gt;Thinking in Javascript, your first attempt was &lt;a href=&quot;http://swannodette.github.io/mori/&quot;&gt;MoriJS project&lt;/a&gt;, a library based in ClojureScript using immutability concepts. But this idea will be more familiar in front-end via &lt;a href=&quot;http://facebook.github.io/immutable-js/&quot;&gt;ImmutableJS project&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Lee Byron, Interactive Information Designer at Facebook says in the first time that show Immutable JS in public:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Immutable js fits better with the rest of the JS ecosystem in my opinion, because it is designed for and written in JS, rather than ClojureScript. The API follows the native Array API where possible, so it’s  a lot easier to switch between the two&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Using a simple approach, we can take a look in results when we use immutable js instead mori js in our apps:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/immutable-vs-mori.png&quot; alt=&quot;ImmutableJS versus MoriJS: Comparison&quot; title=&quot;ImmutableJS versus MoriJS: Comparison&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;More informations in &lt;a href=&quot;http://jsperf.com/immutablejs-versus-morijs&quot;&gt;http://jsperf.com/immutablejs-versus-morijs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;how-to-use-this-concepts-in-angular-apps&quot;&gt;HOW TO USE THIS CONCEPTS IN ANGULAR APPS&lt;/h2&gt;

&lt;p&gt;Thinking in improve more performance and give a simple way to use this library in angular apps, Minko Gechev create angular-immutable module. The idea of this module is simplify the $digest cycle of the data manipulated for angular apps.&lt;/p&gt;

&lt;p&gt;Some points in this approach in angular apps:&lt;/p&gt;

&lt;p&gt;Goods&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Performance improvements when app work with bigger informations;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Bads&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Less performatic when app work with few informations;&lt;/li&gt;
  &lt;li&gt;Insert more complexity in your app;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;Please take a look in your post &lt;a href=&quot;http://blog.mgechev.com/2015/03/02/immutability-in-angularjs-immutablejs/&quot;&gt;“Boost the Performance of an AngularJS Application Using Immutable Data”&lt;/a&gt; for more detailed informations.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;reactive-programming-a-world-with-good-news&quot;&gt;REACTIVE PROGRAMMING: A WORLD WITH GOOD NEWS&lt;/h2&gt;

&lt;p&gt;Reactive programming, in resume, is a programming paradigm oriented around data flows and the propagation of change. This is not a new idea or concept, but return with a new approach via &lt;a href=&quot;http://facebook.github.io/react/&quot;&gt;React JS&lt;/a&gt; and Flux/Reflux.&lt;/p&gt;

&lt;p&gt;Your algorithm is considered the most performatic when we talking about DOM rendering actually (AngularJS 2 will be using WebWorker for DOM rendering and give many performance improvements).&lt;/p&gt;

&lt;p&gt;There are many approaches for your utilization integrating with front-end frameworks, such as Ember, Backbone and Angular. For Angular specifically has a module ngReact that help in this work, integrating React components via directive in angular apps.&lt;/p&gt;

&lt;p&gt;Let me show you a simple example. We have 2 directives: one with ReactJS and another without. Based in a simple Devtools profiler for this example the results are:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// without react
angular.module(&#39;angularPerformanceApp&#39;)
  .directive(&#39;myMessage&#39;, function () {
    return {
      template: &#39;&amp;lt;div&amp;gt;Hello &amp;lt;/div&amp;gt;&#39;,
      restrict: &#39;A&#39;
    };
  });
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/without-react.png&quot; alt=&quot;Using Angular directives&quot; title=&quot;Using Angular directives&quot; /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// with react
angular.module(&#39;angularPerformanceApp&#39;)
  .directive(&#39;myReactMessage&#39;, function () {

    return {
      compile: function(element) {
       var Hello = React.createClass({
          render: function() {
            return React.DOM.div({}, &#39;Hello &#39; + this.props.name);
          }
        });

        return {
          post: function(scope, element) {
            scope.$watch(&#39;vm.message&#39;, function(newVal, oldVal) {
              React.renderComponent(Hello({
                name: scope.vm.message
              }), document.getElementById(&#39;example&#39;));
            });
          }
        }
      }
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/with-react.png&quot; alt=&quot;Using React JS&quot; title=&quot;Using React JS&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The Angular and React teams are sharing ideas about new steps (performance, DOM rendering, coesion and other aspects) and ideas about these projects and the resolutions are shared with community&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;CONCLUSION&lt;/h2&gt;

&lt;p&gt;In this post, was approached the Functional programming concepts and some simple aspects about immutable data structure, how to use in app and libraries for help in this work.&lt;/p&gt;

&lt;p&gt;In next post we will talking about test performance: Why we have that focuses on performance in this step too, what are the good practices in unit and end-to-end tests, tips and tricks.&lt;/p&gt;

&lt;p&gt;Do you use other methods? Comment and share your experience here.&lt;/p&gt;

&lt;p&gt;Thanks and see you very soon!&lt;/p&gt;

&lt;p&gt;Links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mori JS: &lt;a href=&quot;http://swannodette.github.io/mori/&quot;&gt;http://swannodette.github.io/mori/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Immutable JS: &lt;a href=&quot;http://facebook.github.io/immutable-js/&quot;&gt;http://facebook.github.io/immutable-js/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;JSPerf: ImmutableJS x MoriJS: &lt;a href=&quot;http://jsperf.com/immutablejs-versus-morijs&quot;&gt;http://jsperf.com/immutablejs-versus-morijs&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Boost the Performance of an AngularJS Application Using Immutable Data: &lt;a href=&quot;http://blog.mgechev.com/2015/03/02/immutability-in-angularjs-immutablejs/&quot;&gt;http://blog.mgechev.com/2015/03/02/immutability-in-angularjs-immutablejs/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;React JS: &lt;a href=&quot;http://facebook.github.io/react/&quot;&gt;http://facebook.github.io/react/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Mon, 22 Jun 2015 00:00:00 +0000</pubDate>
        <link>http://willmendesneto.github.io/2015/06/22/micro-tunnings-with-angular-apps-part-2</link>
        <guid isPermaLink="true">http://willmendesneto.github.io/2015/06/22/micro-tunnings-with-angular-apps-part-2</guid>
        
        <category>performance,</category>
        
        <category>frontend,</category>
        
        <category>angular,</category>
        
        <category>web</category>
        
        <category>performance,</category>
        
        <category>tips,</category>
        
        <category>tricks</category>
        
        
        <category>performance,</category>
        
        <category>frontend,</category>
        
        <category>angular</category>
        
      </item>
    
      <item>
        <title>Micro tunnings with Angular apps - Part 1</title>
        <description>&lt;p&gt;&lt;a class=&quot;page-link&quot; href=&quot;/2015/06/28/micro-tunings-em-angular-apps-pt-1/&quot;&gt;Read the Brazillian Portuguese version&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;introduction&quot;&gt;INTRODUCTION&lt;/h2&gt;

&lt;p&gt;Many applications are using angular for frontend and it’s really awesome. But with time and software evolution other aspects about product/service are (more) importants too, such as manutenibility and…performance.&lt;/p&gt;

&lt;p&gt;But when you think about performance, what are you remember like (re)solution?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;++ machines?&lt;/li&gt;
  &lt;li&gt;++ cache?&lt;/li&gt;
  &lt;li&gt;++ file minification/compression?&lt;/li&gt;
  &lt;li&gt;++ use more async calls?&lt;/li&gt;
  &lt;li&gt;++ HTTP2 usage?&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;Don’t hide the problem&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Yes, all of these are good ideas, but &lt;strong&gt;doesn’t resolve the core problem&lt;/strong&gt;. Why not? All these ideas are &lt;strong&gt;paliatives&lt;/strong&gt;, because you never attack the real problem and it will appear again in some moment.&lt;/p&gt;

&lt;h2 id=&quot;real-time-web---concepts&quot;&gt;REAL-TIME WEB - CONCEPTS&lt;/h2&gt;

&lt;p&gt;Angular is used for various apps including real time webapps, using websockets and three way data binding with Firebase, for example. But firstly, let’s understand some theorical aspects.&lt;/p&gt;

&lt;p&gt;When user access your app and the data are updated in a velocity &amp;lt;= 100 miliseconds: this is real-time. Real-time (for now) don’t exist. What exist is a “brain hack” because your brain can’t proccess all that happens in this time, because this it understood such if all behaviours are happening in real time, passing this idea.&lt;/p&gt;

&lt;p&gt;Two-way data binding help in this task, based in more &lt;a href=&quot;hollywood principle&quot;&gt;hollywood-principle&lt;/a&gt; possible.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The developers don’t need understand how two-way data binding works in background initially&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Yes, it’s true, but when you have an app with many bindings all tips are welcome, such as:&lt;/p&gt;

&lt;h3 id=&quot;minimize-bindings-and-watchers&quot;&gt;&lt;strong&gt;Minimize bindings and watchers&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Ever that can, minimize bindings and watchers, &lt;code&gt;Object.freeze&lt;/code&gt; usage &lt;a href=&quot;take a look in jsperf comparison between `Object.freeze`, `Object.seal` and object with default behaviour&quot;&gt;jsperf-object-freeze&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;ng-if-instead-ng-show&quot;&gt;&lt;strong&gt;ng-if instead ng-show&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Use ng-if instead ng-show when you can, because ng-show manipulate element display, but it already exist in DOM and two-way data binding already active, decreasing performance.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;div ng-if=&quot;!vm.usingOneTimeBinding&quot;&amp;gt;
  &amp;lt;p&amp;gt;
    Makes more sense
  &amp;lt;/p&amp;gt;
&amp;lt;/div&amp;gt;

&amp;lt;div ng-show=&quot;!vm.usingOneTimeBinding&quot;&amp;gt;
  &amp;lt;p&amp;gt;
    Please, avoid this approach
  &amp;lt;/p&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;filter--two-way-data-binding--no&quot;&gt;&lt;strong&gt;$filter + two-way data binding === no!&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Manipulate data in a once moment and pass the data for template instead $filter’s usage in template;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
this.users = [
  {firstName: &#39;eu&#39;, lastName: &#39;ea&#39;},
  {firstName: &#39;William&#39;, lastName: &#39;Wallace&#39;}
];
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Based in this data, avoid use filter in template…&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;...
&amp;lt;div ng-repeat=&quot;item in vm.users&quot;&amp;gt;
  
&amp;lt;/div&amp;gt;
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;… because the effect in your performance is very considerable…&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/using-filters-in-template.png&quot; alt=&quot;When use filter comparison&quot; /&gt;&lt;/p&gt;

&lt;p&gt;… instead this manipulate the stream’s data in controller, passing the data in your final format only for render in template. In this example is used &lt;code&gt;.map()&lt;/code&gt; javascript function for it.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
this.users.map(function(el){
  el.username = el.firstName + &#39; &#39; + el.lastName;
});
...
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;...
&amp;lt;div ng-repeat=&quot;item in vm.users&quot;&amp;gt;
  
&amp;lt;/div&amp;gt;
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;ngrepeat--track-by&quot;&gt;&lt;strong&gt;ngRepeat + Track by&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Track by in elements are always welcome! ngRepeat is more fast when tracking something.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;
&amp;lt;!-- Without track by --&amp;gt;
&amp;lt;div ng-repeat=&quot;item in vm.users&quot;&amp;gt;
  
&amp;lt;/div&amp;gt;

&amp;lt;!-- With track by --&amp;gt;
&amp;lt;div ng-repeat=&quot;item in vm.users track by $index&quot;&amp;gt;
  
&amp;lt;/div&amp;gt;

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In a simple example with and without &lt;code&gt;ngRepeat + Track by&lt;/code&gt; the results are very expressives&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/ng-repeat-track-by-comparison.png&quot; alt=&quot;ngRepeat track by usage comparison&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;one-time-binding-usage&quot;&gt;&lt;strong&gt;One-time-binding usage&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Use one-time-binding when you can, your app and your users are grateful for it!&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;div ng-repeat=&quot;item in ::vm.users track by $index&quot; &amp;gt;
  
&amp;lt;/div&amp;gt;

&amp;lt;div ng-if=&quot;::vm.users.loggedIn&quot;&amp;gt;
  ...
&amp;lt;/div&amp;gt;

&amp;lt;div ng-class=&quot;::{ &#39;my-awesome-class&#39;: vm.users.loggedIn}&quot;&amp;gt;
  ...
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;use-async-patterns&quot;&gt;Use async patterns&lt;/h3&gt;

&lt;p&gt;In all javascript apps, ever use async patterns for help your life. In angular apps patterns like debounce are very easier to implement and add because &lt;code&gt;ngModelOptions&lt;/code&gt; directive. This directive enable async patterns in components in a powerful way.&lt;/p&gt;

&lt;p&gt;Debounce is a pattern for how many times the event/method will be called in your application. A example of your usage is a simple search in a list.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;form autocomplete=&quot;off&quot; role=&quot;form&quot;&amp;gt;
  &amp;lt;div class=&quot;form-group&quot;&amp;gt;
    &amp;lt;fieldset&amp;gt;
      &amp;lt;input type=&quot;search&quot; name=&quot;search&quot; id=&quot;search&quot; placeholder=&quot;Search...&quot; ng-model=&quot;vm.searchItem&quot; class=&quot;form-control&quot; /&amp;gt;
    &amp;lt;/fieldset&amp;gt;
  &amp;lt;/div&amp;gt;
&amp;lt;/form&amp;gt;
&amp;lt;ul&amp;gt;
  &amp;lt;li ng-repeat=&quot;item in vm.users | myFilter:vm.searchItem&quot;&amp;gt;
    
  &amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In this example the search will be called each user add character in input for search. But this isn’t a good idea. So let’t take a look in debounce usage.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
this.myModelOptions = {
  updateOn: &#39;keydown blur&#39;,
  debounce: {
      keydown: 250, //for search we don&#39;t want to update server during user type
      blur: 250 //when user move on to the next field, we update immedately
  }
};
...
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;form autocomplete=&quot;off&quot; role=&quot;form&quot;&amp;gt;
  &amp;lt;div class=&quot;form-group&quot;&amp;gt;
    &amp;lt;fieldset&amp;gt;
      &amp;lt;input type=&quot;search&quot; name=&quot;search&quot; id=&quot;search&quot; placeholder=&quot;Search...&quot; ng-model=&quot;vm.searchItem&quot; class=&quot;form-control&quot; ng-model-options=&quot;vm.myModelOptions&quot; /&amp;gt;
    &amp;lt;/fieldset&amp;gt;
  &amp;lt;/div&amp;gt;
&amp;lt;/form&amp;gt;
&amp;lt;ul&amp;gt;
  &amp;lt;li ng-repeat=&quot;item in vm.users | myFilter:vm.searchItem&quot;&amp;gt;
    
  &amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This way the search method/event is dispatched only after 250 miliseconds when triggered via keydown or blur events. The number, based in 3 characters are inserted for search is this.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/debounce-comparison.png&quot; alt=&quot;With and Without Debounce usage comparison&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For memoization pattern you can use &lt;code&gt;$provide.decorator()&lt;/code&gt; approach, modifying default behaviour of angular, improving and enable cache by default or other possibilities, for example.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// Creating a new module for enable cache by default
angular.module(&#39;perf.rootScope&#39;, [])
  // $rootScope modified
  .decorate(&#39;$rootScope&#39;, function($delegate){
    $delegate.__proto__.$watch = function() {
      ...
    };

    $delegate.__proto__.$apply = function() {
      ...
    };

    return $delegate;
  });

...
angular.module(&#39;myApp&#39;, &#39;perf.rootScope&#39;]);
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;CONCLUSION&lt;/h2&gt;

&lt;p&gt;In this first post, was approached the Real-time concept and some simple aspects about microtunnings, such best practices about angular core components, javascript optimizations, functional and async patterns usage. In next step the target are concepts about immutable data structure, how to use in app, libraries for help in this work.&lt;/p&gt;

&lt;p&gt;Do you use other methods? Comment and share your experience here.&lt;/p&gt;

&lt;p&gt;Thanks and see you very soon!&lt;/p&gt;

&lt;p&gt;Links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Hollywood Principle: &lt;a href=&quot;http://en.wikipedia.org/wiki/Hollywood_principle&quot;&gt;http://en.wikipedia.org/wiki/Hollywood_principle&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;JsPerf comparison: Object.freeze, Object.seal and object with default behaviour: &lt;a href=&quot;http://jsperf.com/freeze-vs-seal-vs-normal/19&quot;&gt;http://jsperf.com/freeze-vs-seal-vs-normal/19&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Mon, 11 May 2015 00:00:00 +0000</pubDate>
        <link>http://willmendesneto.github.io/2015/05/11/micro-tunnings-with-angular-apps-part-1</link>
        <guid isPermaLink="true">http://willmendesneto.github.io/2015/05/11/micro-tunnings-with-angular-apps-part-1</guid>
        
        <category>performance,</category>
        
        <category>frontend,</category>
        
        <category>angular,</category>
        
        <category>web</category>
        
        <category>performance,</category>
        
        <category>tips,</category>
        
        <category>tricks</category>
        
        
        <category>performance,</category>
        
        <category>frontend,</category>
        
        <category>angular</category>
        
      </item>
    
      <item>
        <title>Using Travis-CI for run AngularJS unit tests</title>
        <description>&lt;h2 id=&quot;introduction&quot;&gt;INTRODUCTION&lt;/h2&gt;

&lt;p&gt;Used in opensource projects, Travis-CI is a excellent solution for will used in projects for add continuous integrations of a simple way in you project and, it’s free!&lt;/p&gt;

&lt;p&gt;But in your AngularJS apps, you have to add karma for test runner and we have problems for run karma tests in browsers. For this, you should use some trick for run these tests.&lt;/p&gt;

&lt;h2 id=&quot;travis-ci-configuration&quot;&gt;TRAVIS-CI CONFIGURATION&lt;/h2&gt;

&lt;p&gt;First you have to create a login in Travis-CI with your github credentials. After this, you enable travis-ci to access your github repository and intercept the commits and pull requests and use travis-ci commands via web hook for run your commands list specified in a .yml file with name &lt;code&gt;.travis.yml&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Let’s take a look in a example of travis-ci configuration file for angularjs apps.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-yaml&quot;&gt;language: node_js
node_js:
  - &#39;0.10.33&#39;
before_script:
  - &#39;export CHROME_BIN=chromium-browser&#39;
  - &#39;export DISPLAY=:99.0&#39;
  - &#39;sh -e /etc/init.d/xvfb start&#39;
  - &#39;npm install -g bower karma grunt-cli jshint&#39;
  - &#39;npm install&#39; # install npm packages
  - &#39;bower install&#39; # install bower packages

after_script:
  - &#39;grunt&#39; # or other command for build, run tests, etc
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This file specifally has 3 points that should be explained:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;language: In this line we choice what language travis-ci will be use for run your commands specified;&lt;/li&gt;
  &lt;li&gt;before_script: All commands that will run before the main command. Normally in this point is inserted all commands for bootstrap your test environment. In this code block we enable the Chrome and Firefox browsers for will be useds in our tests;&lt;/li&gt;
  &lt;li&gt;after_script: The commands that will be executeds for validate the send code. If the return of these commands will be &lt;code&gt;true&lt;/code&gt;, the code was accept, if not will show in repository that your code have problems that you have to fix them;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you would like to know more about these specifications please take a look in &lt;a href=&quot;http://docs.travis-ci.com&quot;&gt;travis-ci documentation&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;CONCLUSION&lt;/h2&gt;

&lt;p&gt;The use of any tool for automate your code integration is a best practice and Travis-CI is a good and concise tool for it, but remember that if you need of a more elaborated integration, testing many kinds of browsers, you have to combine with other tools for it, such as saucelabs (AWESOME TOOL), for example.&lt;/p&gt;

&lt;p&gt;Use other tools for use continuous integration in your applications? Comment and share your experience here.&lt;/p&gt;

&lt;p&gt;Thanks and see you very soon!&lt;/p&gt;

&lt;p&gt;Links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Travis-CI Documentation: &lt;a href=&quot;http://docs.travis-ci.com&quot;&gt;http://docs.travis-ci.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Mon, 16 Feb 2015 00:00:00 +0000</pubDate>
        <link>http://willmendesneto.github.io/2015/02/16/using-travis-ci-for-run-angularjs-unit-tests</link>
        <guid isPermaLink="true">http://willmendesneto.github.io/2015/02/16/using-travis-ci-for-run-angularjs-unit-tests</guid>
        
        <category>tags</category>
        
        
        <category>travis-ci</category>
        
        <category>unit-test</category>
        
        <category>workflow</category>
        
        <category>continuous</category>
        
        <category>integration</category>
        
        <category>opensource</category>
        
      </item>
    
      <item>
        <title>AngularJS: About E2E tests and Protractor - pt 2</title>
        <description>&lt;h2 id=&quot;introduction&quot;&gt;INTRODUCTION&lt;/h2&gt;

&lt;p&gt;This time we will know more about it with an overview in some aspects for Protractor usage in projects and best practices such as page objects, performance, cache, usage with nodejs and others.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Because best practices always are welcome!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;why-page-objects&quot;&gt;Why Page Objects&lt;/h2&gt;

&lt;p&gt;Page Object is a object model with properties and methods, wrapping page elements and interactions event (click, submit, etc). Your objective is simplify the test scripts and upgrade your code reuse in end-to-end tests, reducing amount of duplicate code and centralyzing UI modifications and fixes in only one file.&lt;/p&gt;

&lt;p&gt;Let’s think in a scenario that you have to test one of your directives in diferent scenarios, working with others controllers, services and templates. If you have to write &lt;code&gt;element(by...)&lt;/code&gt; many times, the manutenability of your tests will not be so cool and ever that you have to take a look in them, your sensation will be something like this…&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/ugly.gif&quot; alt=&quot;urgh!&quot; title=&quot;urgh!&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;using-page-objects&quot;&gt;Using Page Objects&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;A example of Page object construction&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var PageObject = function() {
    // properties
    this.property = element(by.id(&#39;property&#39;))
    ...
}

module.exports = new PageObject();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You should use Page Objects in your application tests. It’s a best practice for manutenibility and sanity for your tests.&lt;/p&gt;

&lt;p&gt;Page Objects are useds for centralize the properties and methods of the website/system/app page. For example, if you have a form in your app, in this objects the properties will be form elements (inputs, selects, textboxes) and methods are the events of your form elements (click in button, blur in input element, change in select, etc).&lt;/p&gt;

&lt;p&gt;A simple example using Page Objects in your protractor tests.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;
describe(&#39;angularjs homepage todo list&#39;, function() {
  var pageObject = require(&#39;page.js&#39;);

  beforeEach(function() {
    // before function
    browser.get(&#39;&amp;lt;your-url&amp;gt;&#39;);
    ...
  });

  afterEach(function() {
    //after function
    ...
  });

  it(&#39;Page Object should be &quot;Angular Testing Recipes&quot; in your text content by default&#39;, function() {
    expect(pageObject.property.getText()).toEqual(&#39;Angular Testing Recipes&#39;);
  });
});
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;working-with-promises&quot;&gt;Working with promises&lt;/h2&gt;

&lt;p&gt;All page events returns for you test like as promise. In this case, your have to resolve the promises get your result and finish your test correctly. For example&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;PageObject.property.click();
// your assertions are here
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;can be used this way too&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;PageObject.property.click().then(function(){
   // your assertions are here
   ...
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can use &lt;code&gt;waitForAngular()&lt;/code&gt; method for that Protractor waits for AngularJS event finalization.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;browser.waitForAngular();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;expect()&lt;/code&gt; method resolve the promises in your tests. For example:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;expect(PageObject.property.getText()).toEqual(&#39;your test&#39;);
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;performance-in-your-end-to-end-tests&quot;&gt;Performance in your End to End Tests&lt;/h2&gt;

&lt;p&gt;Test your application with animation disabled. In many times has no sense to test your app with animations enabled and with this resource disabled the tests run more fast.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;allowAnimations(false);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To disable angular debug informations is a best practice too, because you should use protractor debug for it.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;$compileProvider.debugInfoEnabled(false);
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;using-nodejs-in-protractor-tests&quot;&gt;Using NodeJS in Protractor tests&lt;/h2&gt;

&lt;p&gt;In some cases you can the option of use NodeJS with protractor methods for more elaborated tests. In this example we are testing a ordenation click event in a tablesorter component, but using NodeJS for set table headers in our tests and caching table headers elements (get all elements that &lt;code&gt;by.css()&lt;/code&gt; method return, resolving your promise and managing tests based in &lt;code&gt;items&lt;/code&gt; values).&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// spec.js
describe(&#39;TableSorter: testing component&#39;, function () {

  var tableSorter;

  it(&#39;changes active table order based in user\&#39;s choice&#39;, function () {

    browser.get(&#39;/&#39;);

    element.all(by.css(&#39;.table-sorter-order&#39;)).then(function(items) {

      expect(items.length).toBe(1);

      //  Testing all elements with ordenation method
      [&#39;Name&#39;, &#39;Email&#39;].forEach(function(text, key){

        describe(&#39;Testing Item &quot;&#39;+text+&#39;&quot;&#39;, function(){
          //  Order Asc
          it(&#39;ASC ordenation&#39;, function () {
            expect(items[key].getText()).toBe(text);
            items[key].click();
            tableSorter = element(by.css(&#39;.table-sorter-order.asc&#39;));
            expect(tableSorter.getText()).toEqual(text);
          });
          //  Order Desc
          it(&#39;DESC ordenation&#39;, function () {
            items[key].click();
            tableSorter = element(by.css(&#39;.table-sorter-order.desc&#39;));
            expect(tableSorter.getText()).toEqual(text);
          });
        });
      });
    });
  });

});
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;CONCLUSION&lt;/h2&gt;

&lt;p&gt;Protractor is a awesome tool for create and integrate end-to-end test in your applications, but remember that end-to-end is used with unit tests (more unit tests, less end-to-end tests).&lt;/p&gt;

&lt;p&gt;Thanks and we see very soon!&lt;/p&gt;

</description>
        <pubDate>Sun, 15 Feb 2015 00:00:00 +0000</pubDate>
        <link>http://willmendesneto.github.io/2015/02/15/angularjs-about-e2e-tests-and-protractor-pt-2</link>
        <guid isPermaLink="true">http://willmendesneto.github.io/2015/02/15/angularjs-about-e2e-tests-and-protractor-pt-2</guid>
        
        <category>workflow</category>
        
        <category>frontend</category>
        
        <category>tests</category>
        
        
        <category>angularjs</category>
        
        <category>frontend</category>
        
        <category>protractor</category>
        
        <category>end-to-end</category>
        
        <category>tests</category>
        
      </item>
    
      <item>
        <title>AngularJS: About E2E tests and Protractor - pt 1</title>
        <description>&lt;h2 id=&quot;introduction&quot;&gt;INTRODUCTION&lt;/h2&gt;

&lt;p&gt;You never speak about protractor or End-to-tests? This time the aspect approached will be the tests, most specifically End-to-end test, with an overview in some aspects for Protractor, the framework created for AngularJS, but that can be used with many other projects without angularjs dependency. In this post I will explain some aspects for end-to-end tests, why to use them, how the protractor is included in this approach and show a example of your use in tests.&lt;/p&gt;

&lt;h2 id=&quot;why-end-to-end-e2e-tests&quot;&gt;Why End to End (E2E) tests&lt;/h2&gt;

&lt;p&gt;End to End tests are pretty good tests for validate some aspects of your application , such as functionalities and interactions. For example, you will use End to End test in this cases:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Validate if your component works on in your application, generating a “happy way”;&lt;/li&gt;
  &lt;li&gt;Validate interaction in your browser between backend and frontend, based in a complete operation, like a login, search and other validations;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;Unit Tests and End to End tests ever works together.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;well-butwhy-protractor&quot;&gt;Well, but…why Protractor&lt;/h2&gt;

&lt;p&gt;Protractor is a tool created for attend developers of an easier way, with a reasonable setup, low context-switching and sensible syntax using all power of WebDrivers can do for us.&lt;/p&gt;

&lt;p&gt;Your configuration is very easy (protractor born with this specification), that help in your use in applications.&lt;/p&gt;

&lt;h2 id=&quot;setup&quot;&gt;SETUP&lt;/h2&gt;

&lt;p&gt;The setup of protractor is very easy. Firts it’s available via NPM (Node Package Manager) and your installation is done with the command&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ cd awesome-folder
$ npm install  protractor
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And update your webdrive using this command in folder that you create and add protractor package.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ ./node_modules/protractor/bin/webdriver-manager update
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After this you can use the protractor template for begin your tests. If you can, use this template for begin tests with protractor and configure your folder for end-to-end tests&lt;/p&gt;

&lt;noscript&gt;&lt;pre&gt;// An example configuration file.
exports.config = {
  // Do not start a Selenium Standalone sever - only run this using chrome.
  chromeOnly: true,
  chromeDriver: &amp;#39;./node_modules/protractor/selenium/chromedriver&amp;#39;,

  seleniumAddress: &amp;#39;http://0.0.0.0:4444/wd/hub&amp;#39;,
  baseUrl: &amp;#39;http://0.0.0.0:9000&amp;#39;,

  // Capabilities to be passed to the webdriver instance.
  capabilities: {
    &amp;#39;browserName&amp;#39;: &amp;#39;chrome&amp;#39;
  },

  // Spec patterns are relative to the current working directly when
  // protractor is called.
  specs: [&amp;#39;test/e2e/**/*_spec.js&amp;#39;],

  // Options to be passed to Jasmine-node.
  jasmineNodeOpts: {
    showColors: true,
    defaultTimeoutInterval: 30000
  }
};&lt;/pre&gt;&lt;/noscript&gt;
&lt;script src=&quot;https://gist.github.com/willmendesneto/d6d1163b39356e5e103a.js&quot;&gt; &lt;/script&gt;

&lt;h2 id=&quot;boilerplate&quot;&gt;Boilerplate&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Basic step for use end-to-end tests&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;An example of end-to-end tests file is access the todo list that exists in angularjs website.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;describe(&#39;angularjs homepage todo list&#39;, function() {

  beforeEach(function() {
    // before function
    ...
  });

  afterEach(function() {
    //after function
    ...
  });

  it(&#39;should add a todo&#39;, function() {
    browser.get(&#39;http://www.angularjs.org&#39;);

    element(by.model(&#39;todoText&#39;)).sendKeys(&#39;write a protractor test&#39;);
    element(by.css(&#39;[value=&quot;add&quot;]&#39;)).click();

    var todoList = element.all(by.repeater(&#39;todo in todos&#39;));
    expect(todoList.count()).toEqual(3);
    expect(todoList.get(2).getText()).toEqual(&#39;write a protractor test&#39;);
  });
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In this example we can see some elements that we will use many times in Protractor tests, such as:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;browser: API for browser element. In this example we use &lt;code&gt;browser&lt;/code&gt; for access some url;&lt;/li&gt;
  &lt;li&gt;element: API for access some page element. Is very usefull for get elements based in certain parameters and manipulate them;&lt;/li&gt;
  &lt;li&gt;by: API for access element based in parameters (css, angular models, angular repeaters, etc);&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you would like to know more about the API’s protractor, &lt;a href=&quot;http://angular.github.io/protractor/#/api&quot;&gt;please take a look in protractor documentation&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;CONCLUSION&lt;/h2&gt;

&lt;p&gt;Now you are most familiarized with the concept of End-to-end tests and the powerfull tool that is protractor. In next post we will take a look in others aspects of protractor, such as performance and best practices.&lt;/p&gt;

&lt;p&gt;Do you like of this post? Comments this post, feedbacks are always welcome ;)&lt;/p&gt;

&lt;p&gt;Links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Protractor API docs: &lt;a href=&quot;http://angular.github.io/protractor/#/api&quot;&gt;http://angular.github.io/protractor/#/api&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Sat, 14 Feb 2015 00:00:00 +0000</pubDate>
        <link>http://willmendesneto.github.io/2015/02/14/angularjs-about-e2e-tests-and-protractor-pt-1</link>
        <guid isPermaLink="true">http://willmendesneto.github.io/2015/02/14/angularjs-about-e2e-tests-and-protractor-pt-1</guid>
        
        <category>workflow</category>
        
        <category>frontend</category>
        
        <category>tests</category>
        
        
        <category>angularjs</category>
        
        <category>frontend</category>
        
        <category>protractor</category>
        
        <category>end-to-end</category>
        
        <category>tests</category>
        
      </item>
    
  </channel>
</rss>
