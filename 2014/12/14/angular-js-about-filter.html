<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>AngularJS: About $filter</title>
  <meta name="description" content="This is my blog, where i talk about technologies" />

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="canonical" href="http://willmendesneto.github.io/2014/12/14/angular-js-about-filter">

  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="cache-control" content="no-store, no-cache, must-revalidate" />
    <meta http-equiv="Pragma" content="no-store, no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE" />
    <meta http-equiv="PRAGMA" content="NO-CACHE" />
    <meta name="domain" content="willmendesneto.github.io" />
    <meta name="url" content="/2014/12/14/angular-js-about-filter" />

    <meta property="og:type" content="article" />
    <meta property="og:title" content="AngularJS: About $filter" />
    <meta property="og:url" content="/2014/12/14/angular-js-about-filter" />
    <meta property="og:description" content="" />
    <meta property="article:author" content="" />
    <meta property="og:site_name" content="Wilson Mendes - Blog" />
    <meta property="og:image" content="http://i1098.photobucket.com/albums/g379/farazi482/AngularJS-filters.png" />
    <meta name="twitter:site" content="@willmendesneto" />
    <meta name="twitter:image" content="http://i1098.photobucket.com/albums/g379/farazi482/AngularJS-filters.png" />
    <meta name="twitter:card" content="summary" />
    <meta name="autor" content="Wilson Mendes" />
    <meta name="reply-to" content="willmendesneto@gmail.com">
    <meta name="revisit-after" content="3" />
    <meta name="title" content="Wilson Mendes - Blog">
    <meta name="description" content="This is my blog, where i talk about technologies">
    <meta name="keywords" content="["javascript",, "angularjs",, "frontend",, "frameworks",, "architecture"]" />
  

  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Pesquisa no Blog" />

  <link rel="shortcut icon" href="/assets/images/favicon.ico">
<!--  <link rel="stylesheet" href=""> -->
  <!-- <link rel="stylesheet" href="http://brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Open+Sans:400,400i,700,700i"> -->
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,400italic,600,700,800" rel="stylesheet" type="text/css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/main.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/mini-preview.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/solarized-dark.css" />
  <link rel="stylesheet" type="text/css" media="print" href="/assets/css/print.css" />
</head>

  <body itemscope itemtype="http://schema.org/Article">
    <!-- header start -->

<!-- <a href="http://willmendesneto.github.io" class="logo-readium"><span class="logo" style="background-image: url()"></span></a> -->

<!-- header end -->

    <main class="content" role="main">
      <article class="post">
        
        <div class="article-image">
          <div class="post-image-image" style="background-image: url(http://i1098.photobucket.com/albums/g379/farazi482/AngularJS-filters.png)">
            Article Image
          </div>
          <div class="post-meta">
            <h1 class="post-title">AngularJS: About $filter</h1>
            <div class="cf post-meta-text">
              <div class="author-image" style="background-image: url(https://pt.gravatar.com/userimage/20307137/677413a79461cdfd62c8a65143214850.png?size=300)">Blog Logo</div>
              <h4 class="author-name" itemprop="author" itemscope itemtype="http://schema.org/Person">Wilson Mendes</h4>
              on
              <time datetime="2014-12-14 00:00">14 Dec 2014</time>
              <!-- , tagged on <span class="post-tag-">, <a href="/tag/"></a></span> -->
            </div>
            <div style="text-align:center">
              <a href="#topofpage" class="topofpage"><i class="fa fa-angle-down"></i></a>
            </div>
          </div>
        </div>
        
        <section class="post-content">

          <a class="home-button"  href="/">&laquo; Home</a>
          <div class="post-reading">
            Lido a <span class="post-reading-time"></span>
          </div>
          <a name="topofpage"></a>
          <div id="post-content-page">
            <p><a class="page-link" href="/2014/12/08/angular-js-sobre-filter/">Read the Brazillian Portuguese version</a></p>

<h2>INTRODUCTION</h2>

<p>In this post we will talk about filter concepts and how is the interface <code>$filter</code> flux in AngularJS. Offcourse, this is the first, but the idea isn&#39;t make it something like the <a href="http://teropa.info/build-your-own-angular">Building your own AngularJS </a> (and I don&#39;t have this pretension), but in something that share initially some good tips, fundamentals and cool aspects, showing more than &quot;overview&quot; in some approaches with these points for only one simple reason:</p>

<blockquote>
<p>&quot;Good knowledge is shared knowledge&quot;</p>
</blockquote>

<h2>ABOUT</h2>

<p>The filters concept is something very cool that the framework already brings in your core. This is helpful for the interface provided by AngularJS can be used in all locations of your application, whether html templates, services, directives, controllers, etc. We can already use some filters previously created by default, such as:</p>

<ul>
<li><code>currency</code>: for values. Formats a number for the currency format. When no symbol is supplied, uses the standard symbol for the site as standard;</li>
<li><code>date</code>: for date formatting. Based on the last parameter can return a date in a specific format;</li>
<li><code>filter</code>:  standard filter to search in string, JSON objects or ArrayObjects;</li>
<li><code>json</code>: to transform a value in json. used to transform Javascript objects in a JSON string;</li>
<li><code>limitTo</code>: Creates a new array / string with a specified number of elements previously. The elements are stripped from the beginning or the end of the source array, number or string, specified by the value and sign (positive or negative for order verification). If a number is used as input, it is converted to a string.</li>
<li><code>lowercase</code>: lowercase characters conversion;</li>
<li><code>number</code>: Formatting numbers;</li>
<li><code>orderBy</code>: Sort in alphabetical or numerical order. If numbers worth noting if they are actually being saved as numbers and not strings, as this may affect the ordering;</li>
<li><code>uppercase</code>: uppercase characters conversion;</li>
</ul>

<p>When use in html template, the filter accept some verifications such as:</p>

<ul>
<li><code>+</code>: Sum or concatenate. Uses the <code>additive</code> method;</li>
<li><code>-</code>: Decreases. Uses the <code>additive</code> method;</li>
<li><code>*</code>: Multiplies. Uses the <code>multiplicative</code> method;</li>
<li><code>/</code> : Divide. Uses the <code>multiplicative</code> method;</li>
<li><code>%</code>: Returns the remainder of the division. Uses the <code>multiplicative</code> method;</li>
<li><code>===</code>:  Compares with typing check. Uses the <code>equality</code>;</li>
<li><code>!==</code>: ompares with typing check. Uses the <code>equality</code>;</li>
<li><code>==</code>: Compares without typing check. Uses the <code>equality</code>;</li>
<li><code>!=</code>: Compares without typing check. Uses the <code>equality</code>;</li>
<li><code>&lt;</code>: Less than. Uses the <code>relational</code>;</li>
<li><code>&gt;</code>: Greater than. Uses the <code>relational</code>;</li>
<li><code>&lt;=</code>: Less than or equal. Uses the <code>relational</code>;</li>
<li><code>&gt;=</code>: Greater than or equal. Uses the <code>relational</code>;</li>
<li><code>&amp;&amp;</code>: AND. Uses the <code>logicalAND</code>;</li>
<li><code>||</code>: OOR. Uses the <code>logicalOR</code>;</li>
<li><code>!</code>:  Changes the value (force for boolean type). Uses the <code>unary</code>;</li>
<li><code>=</code>: Assign the value of the second to first. Uses the <code>assignment</code>;</li>
<li><code>|</code>: Returns the boolean <code>true</code>;</li>
</ul>

<p>All these operators are configured in <code>OPERATORS</code> variable. If you would like to know more about comparation operators, the AngularJS project references the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators">MDN documentation &quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators&quot;</a></p>

<p>And escape some special characters , as:</p>

<ul>
<li><code>\n</code>;</li>
<li><code>\f</code>;</li>
<li><code>\r</code>;</li>
<li><code>\t</code>;</li>
<li><code>\v</code>;</li>
<li><code>&#39;</code>;</li>
<li><code>&quot;</code>;</li>
</ul>

<p>All these operators are configured in <code>ESCAPE</code> variable. If you would like to know more please take a look in angularjs final code and search for this variable.</p>

<h2>ARCHITECTURE AND DESIGN PATTERN</h2>

<p>Some design patterns are implemented in angularjs, some these aren&#39;t so well known. Conceptually speaking, a filter receives a flow (data stream) as input and produces a characters stream as output. Further filters can be parameterized. The Official definition for filters found on the official site AngularJS is:</p>

<blockquote>
<p>&quot;Selects a subset of items from array and returns it as a new array.&quot;</p>
</blockquote>

<p>The particular set of rules applied defines an architectural style known as <a href="http://webcem01.cem.itesm.mx:8005/apps/s200911/tc3003/notes_pipes_and_filters/">Pipe-and-Filter</a>. The Pipe-and-filter is based on flow/stream data, and filters that can operate concurrently or not. In other words, can or cannot wait for the producer end to the component that consumes the output of the producer start your operation.</p>

<p>In this architecture context, the pipe character (<code>|</code>) is one way to connect two filters, where the first filter output is connected in second input (which led to the architecture name). Knowing filters and pipes used can easily understand its operation and/or create other based on combinations.</p>

<p>Now a simple example using multiple filters combined. A given number, we want it to return your value as a Roman number. If we think that we have already created two filters can do the following combination. In our template its use would be as follows:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="lineno">1</span> <span class="nt">&lt;tr&gt;</span>
<span class="lineno">2</span>     <span class="c">&lt;!-- Returns &quot;X&quot; --&gt;</span>
<span class="lineno">3</span>     <span class="nt">&lt;td&gt;</span> { { &#39;10&#39; | returnOnlyNumbers | formatForRomanNumbers } }<span class="nt">&lt;/td&gt;</span>
<span class="lineno">4</span> <span class="nt">&lt;/tr&gt;</span></code></pre></figure>

<p>We can see some methods of Angular that demonstrate the operation of this architecture, such as:</p>

<p>filterChain<code>&#39;: Call combined filters using chainning mthods, which is a fluent API type and also uses the</code>filter` method internally. If you want to know more about this concept, <a href="http://www.smashingmagazine.com/2012/10/09/designing-javascript-apis-usability/">I recommend Smashing Magazine article &quot;Designing Better JavaScript APIs&quot;</a>.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno">1</span> <span class="nx">filterChain</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno">2</span>     <span class="kd">var</span> <span class="nx">left</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">();</span>
<span class="lineno">3</span>     <span class="kd">var</span> <span class="nx">token</span><span class="p">;</span>
<span class="lineno">4</span>     <span class="k">while</span> <span class="p">((</span><span class="nx">token</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">)))</span> <span class="p">{</span>
<span class="lineno">5</span>       <span class="nx">left</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">left</span><span class="p">);</span>
<span class="lineno">6</span>     <span class="p">}</span>
<span class="lineno">7</span>     <span class="k">return</span> <span class="nx">left</span><span class="p">;</span>
<span class="lineno">8</span>   <span class="p">},</span></code></pre></figure>

<p><code>filter</code>: Method that deals with all passed values from filter and returns the final value.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno"> 1</span> <span class="nx">filter</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">inputFn</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 2</span>     <span class="kd">var</span> <span class="nx">fn</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">$filter</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">consume</span><span class="p">().</span><span class="nx">text</span><span class="p">);</span>
<span class="lineno"> 3</span>     <span class="kd">var</span> <span class="nx">argsFn</span><span class="p">;</span>
<span class="lineno"> 4</span>     <span class="kd">var</span> <span class="nx">args</span><span class="p">;</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span>     <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">peek</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">))</span> <span class="p">{</span>
<span class="lineno"> 7</span>       <span class="nx">argsFn</span> <span class="o">=</span> <span class="p">[];</span>
<span class="lineno"> 8</span>       <span class="nx">args</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// we can safely reuse the array</span>
<span class="lineno"> 9</span>       <span class="k">while</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">))</span> <span class="p">{</span>
<span class="lineno">10</span>         <span class="nx">argsFn</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">());</span>
<span class="lineno">11</span>       <span class="p">}</span>
<span class="lineno">12</span>     <span class="p">}</span>
<span class="lineno">13</span> 
<span class="lineno">14</span>     <span class="kd">var</span> <span class="nx">inputs</span> <span class="o">=</span> <span class="p">[</span><span class="nx">inputFn</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">argsFn</span> <span class="o">||</span> <span class="p">[]);</span>
<span class="lineno">15</span> 
<span class="lineno">16</span>     <span class="k">return</span> <span class="nx">extend</span><span class="p">(</span><span class="kd">function</span> <span class="nx">$parseFilter</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">locals</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">17</span>       <span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">inputFn</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">locals</span><span class="p">);</span>
<span class="lineno">18</span>       <span class="k">if</span> <span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">19</span>         <span class="nx">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">input</span><span class="p">;</span>
<span class="lineno">20</span> 
<span class="lineno">21</span>         <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">argsFn</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="lineno">22</span>         <span class="k">while</span> <span class="p">(</span><span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">23</span>           <span class="nx">args</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">argsFn</span><span class="p">[</span><span class="nx">i</span><span class="p">](</span><span class="nx">self</span><span class="p">,</span> <span class="nx">locals</span><span class="p">);</span>
<span class="lineno">24</span>         <span class="p">}</span>
<span class="lineno">25</span> 
<span class="lineno">26</span>         <span class="k">return</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="lineno">27</span>       <span class="p">}</span>
<span class="lineno">28</span> 
<span class="lineno">29</span>       <span class="k">return</span> <span class="nx">fn</span><span class="p">(</span><span class="nx">input</span><span class="p">);</span>
<span class="lineno">30</span>     <span class="p">},</span> <span class="p">{</span>
<span class="lineno">31</span>       <span class="nx">constant</span><span class="o">:</span> <span class="o">!</span><span class="nx">fn</span><span class="p">.</span><span class="nx">$stateful</span> <span class="o">&amp;&amp;</span> <span class="nx">inputs</span><span class="p">.</span><span class="nx">every</span><span class="p">(</span><span class="nx">isConstant</span><span class="p">),</span>
<span class="lineno">32</span>       <span class="nx">inputs</span><span class="o">:</span> <span class="o">!</span><span class="nx">fn</span><span class="p">.</span><span class="nx">$stateful</span> <span class="o">&amp;&amp;</span> <span class="nx">inputs</span>
<span class="lineno">33</span>     <span class="p">});</span>
<span class="lineno">34</span>   <span class="p">},</span></code></pre></figure>

<p>Knowing that the filters are only functions which transform the input to some requested output. However filters need of a dependency injection. Because this, filters consist of a factory function (which is already provided internally by AngularJS) with annotations of your dependencies and this is where the <code>$ filterProvider</code> is presented to us from <code>$ filterProvider.register()</code> method.</p>

<h2>BEST PRACTICES</h2>

<p>There are many style guides talking about it, but remember that everyone is walking side by side with the documentation of Angular and feedback based on their use in projects.</p>

<p>Recently was approached something that works on, but it wasn&#39;t right. In one of the issues openned on AngularJS Github repository was discussed a scenario which uses the concept of namespaces (like jQuery namespace &quot;my.awesome.namespace&quot;). This scenario was possible until the 1.3.2 version of the framework and beyond this format version did not work properly.</p>

<p>This issue raised a very interesting discussion, finished with something that was correct, but that wasn&#39;t included in filters documentation that we must be not use special characters to define the filter name. If you would like to track more information about the discussion <a href="https://github.com/angular/angular.js/issues/10110">worth giving a look at issue #10110 addressing this topic</a>.</p>

<p>If you use a $filter with another filter dependencies or use a filter with strategy pattern is simple as well, since you will have to test all filters and parameters. An example of a filter with this strategy pattern is dates. We know that the $filter already has a default filter by date, but in an app that supports multi-language, you could use the following format (it&#39;s just a example. We have better ways to use this functionality):</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno"> 1</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;filters&#39;</span><span class="p">,</span> <span class="p">[])</span>
<span class="lineno"> 2</span>     <span class="c1">// Call all filters</span>
<span class="lineno"> 3</span>     <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;strategyMoneyFilter&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">$filter</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 4</span>         <span class="k">return</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">attribute</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 5</span>             <span class="k">return</span> <span class="nx">$filter</span><span class="p">(</span><span class="s1">&#39;moneyFormat&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">attribute</span><span class="p">.</span><span class="nx">country</span><span class="p">.</span><span class="nx">toUpper</span><span class="p">()</span> <span class="o">||</span> <span class="s1">&#39;BR&#39;</span><span class="p">))(</span><span class="nx">attribute</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="lineno"> 6</span>         <span class="p">};</span>
<span class="lineno"> 7</span>     <span class="p">})</span>
<span class="lineno"> 8</span>     <span class="c1">// Brazillian format</span>
<span class="lineno"> 9</span>     <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;moneyFormatBR&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
<span class="lineno">10</span>         <span class="k">return</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">11</span>             <span class="c1">// trato e retorno o formato com base no país</span>
<span class="lineno">12</span>         <span class="p">};</span>
<span class="lineno">13</span>     <span class="p">})</span>
<span class="lineno">14</span>     <span class="c1">// US format</span>
<span class="lineno">15</span>     <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;moneyFormatUS&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
<span class="lineno">16</span>         <span class="k">return</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">17</span>             <span class="c1">// trato e retorno o formato com base no país</span>
<span class="lineno">18</span>         <span class="p">};</span>
<span class="lineno">19</span>     <span class="p">})</span>
<span class="lineno">20</span>     <span class="c1">// EU Format</span>
<span class="lineno">21</span>     <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;moneyFormatEU&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
<span class="lineno">22</span>         <span class="k">return</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">23</span>             <span class="c1">// trato e retorno o formato com base no país</span>
<span class="lineno">24</span>         <span class="p">};</span>
<span class="lineno">25</span>     <span class="p">});</span></code></pre></figure>

<p>This way, with only one parameter we can use the best of each parameter and this can be easily worked in javascript, since instead of if&#39;s what define the data stream output format is an information passed to your filter and this information may come from a database, for example!</p>

<h2>PERFORMANCE</h2>

<p>Another nice aspect is the performance in your app. But i&#39;m not speak about issues such as not using the two-way data binding in some application points that will not possess any kind of interaction/modification or more basic questions such as minimize the binds/watches.</p>

<p>The filter can be used in many places in your application, such as Controllers, Services and in your html files too. But we must think quite the best approach based on what our apps need. If the application will only have some interaction with the $filter based on some user interaction (a button click, for example) there is no why of we leave the filter on our html template. We could use events linked that are activated in the interactions, for example. So we would spend the values previously manipulated  for the format we expect and in any interaction on application it would be treated only in a single point of application, not to mention that we can use a better approach with code abstractions to do this. AngularJS uses the dependencie injection in a transparent way and we must use it the best way possible.</p>

<h2>TESTS</h2>

<p>Testa ire importants in your application in many aspects. i&#39;m not speak &quot;why to tests your application&quot;, but if you want to delve advise <a href="http://tdd.caelum.com.br/">content produced for Caelum by Maurice Aniche, a Brazillian reference when it comes to Software Testing</a>. A test format for custom filters is shown in <a href="https://docs.angularjs.org/tutorial/step_09">tutorial provided by the official website&#39;s project</a>. In this tutorial we have the code example and your tests, respectively. Based on it we can have a north of how to test our filters.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno">1</span> <span class="c1">// phonecatFilters.js</span>
<span class="lineno">2</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;phonecatFilters&#39;</span><span class="p">,</span> <span class="p">[]).</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;checkmark&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno">3</span>   <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">4</span>     <span class="k">return</span> <span class="nx">input</span> <span class="o">?</span> <span class="s1">&#39;\u2713&#39;</span> <span class="o">:</span> <span class="s1">&#39;\u2718&#39;</span><span class="p">;</span>
<span class="lineno">5</span>   <span class="p">};</span>
<span class="lineno">6</span> <span class="p">});</span></code></pre></figure>

<p>Based on the custom filter <code>phonecatFilter</code> previously created, now let&#39;s take a look at your test code.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno"> 1</span> <span class="c1">// phonecatFiltersTest.js</span>
<span class="lineno"> 2</span> <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span>   <span class="nx">beforeEach</span><span class="p">(</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;phonecatFilters&#39;</span><span class="p">));</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span>   <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;checkmark&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno"> 7</span>     <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should convert boolean values to unicode checkmark or cross&#39;</span><span class="p">,</span> <span class="nx">inject</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">checkmarkFilter</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 8</span>       <span class="nx">expect</span><span class="p">(</span><span class="nx">checkmarkFilter</span><span class="p">(</span><span class="kc">true</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;\u2713&#39;</span><span class="p">);</span>
<span class="lineno"> 9</span>       <span class="nx">expect</span><span class="p">(</span><span class="nx">checkmarkFilter</span><span class="p">(</span><span class="kc">false</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;\u2718&#39;</span><span class="p">);</span>
<span class="lineno">10</span>     <span class="p">}));</span>
<span class="lineno">11</span>   <span class="p">});</span>
<span class="lineno">12</span> <span class="p">});</span></code></pre></figure>

<h3>CONCLUSION</h3>

<p>We learned some cool architecture, patterns, best practices and performance aspects when using $filter in a AngularJS application.</p>

<p>I hope you enjoyed reading this and has been useful for you. Feedbacks are always welcome =)</p>

<p>Thanks and see you soon.</p>

<p>Links:</p>

<ul>
<li>Structure application proposal: <a href="https://github.com/yeoman/generator-angular/issues/109">https://github.com/yeoman/generator-angular/issues/109</a></li>
<li>Pipe-and-filter pattern: <a href="http://webcem01.cem.itesm.mx:8005/apps/s200911/tc3003/notes_pipes_and_filters/">http://webcem01.cem.itesm.mx:8005/apps/s200911/tc3003/notes<em>pipes</em>and_filters/</a></li>
<li>Building your own AngularJS: <a href="http://teropa.info/build-your-own-angular">http://teropa.info/build-your-own-angular</a></li>
<li>AngularJS Issue #10110: <a href="https://github.com/angular/angular.js/issues/10110">https://github.com/angular/angular.js/issues/10110</a></li>
<li>MDN Documentation &quot;Comparison Operators&quot;: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators</a></li>
<li>Tests: <a href="http://tdd.caelum.com.br/">http://tdd.caelum.com.br/</a></li>
<li>Documentation <a href="https://docs.angularjs.org/tutorial/step_09">https://docs.angularjs.org/tutorial/step_09</a></li>
<li>Smashing Magazine &quot;Designing Better JavaScript APIs&quot;: <a href="http://www.smashingmagazine.com/2012/10/09/designing-javascript-apis-usability/">http://www.smashingmagazine.com/2012/10/09/designing-javascript-apis-usability/</a></li>
</ul>

          </div>
        </section>

        
          <section class="newsletter-content">
    <form action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=willmendesneto', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true;" >
        <h3 class="newsletter-title">Receive news by email</h3>
        <p class="newsletter-text">Subscribe to my newsletter to receive notifications of new articles in your e- mail</p>
        <input class="input-newsletter" type="email" name="email" placeholder="email"/>
        <input type="hidden" value="willmendesneto" name="uri"/>
        <input type="hidden" name="loc" value="en_US"/>
        <input class="btn btn-newsletter" type="submit" value="Subscribe" />
    </form>
</section>

        

        <footer class="post-footer">

          <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
  <a class="addthis_button_preferred_1"></a>
  <a class="addthis_button_preferred_2"></a>
  <a class="addthis_button_preferred_3"></a>
  <a class="addthis_button_preferred_4"></a>
  <a class="addthis_button_preferred_5"></a>
</div>


          <!-- <section class="share">
            
              
                <a class="icon-twitter" href="http://twitter.com/share?text=AngularJS%3A+About+%24filter&amp;url=http://willmendesneto.github.io/2014/12/14/angular-js-about-filter"
                  onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                <i class="fa fa-twitter"></i><span class="hidden">twitter</span>
                </a>
              
            
              
                <a class="icon-facebook" href="//www.facebook.com/sharer.php?t=AngularJS%3A+About+%24filter&amp;u=http://willmendesneto.github.io/2014/12/14/angular-js-about-filter"
                  onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;">
                <i class="fa fa-facebook"></i><span class="hidden">facebook</span>
                </a>
              
            
              
            
              
                <a class="icon-google-plus" href="https://plus.google.com/share?t=AngularJS%3A+About+%24filter&amp;url=http://willmendesneto.github.io/2014/12/14/angular-js-about-filter"
                  onclick="window.open(this.href, 'google-plus-share', 'width=550,height=255');return false;">
                <i class="fa fa-google-plus"></i><span class="hidden">google-plus</span>
                </a>
              
            
          </section> -->
        </footer>
        <div class="bottom-teaser cf">
          <div class="isLeft">
            <section class="author">
              <div class="author-image" style="background-image: url(https://pt.gravatar.com/userimage/20307137/677413a79461cdfd62c8a65143214850.png?size=300)">Blog Logo</div>
              <h4>Wilson Mendes</h4>
              
                <p class="bio">Google Developer Expert (GDE) AngularJS and GDG Salvador Organizer. Musician and designer in his spare time.</p>
              
              <hr>
              <p class="published">Publicado em <time datetime="2014-12-14 00:00">14 Dec 2014</time></p>
            </section>
            <footer class="site-footer">
              <section class="poweredby">Mais um blog feito com <a href="http://jekyllrb.com">Jekyll</a></section>
              <a class="subscribe" href="/feed.xml" target="_blank"> <span class="tooltip"> <i class="fa fa-rss"></i> Assine o feed.</span></a>
            </footer>
          </div>
          
        </div>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'willmendesnetogithubio'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */

        'use strict';

        function load() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

          // Remove o evento
          window.onscroll = function() {};
        }

        window.onscroll = function() {
          if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight - 2000)) {
            load();
          }
        };
        </script>

        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </article>

    </main>
    <div class="bottom-closer">
      <div class="background-closer-image"  style="background-image: url(/assets/images/background-1.jpg)">
        Image
      </div>
      <div class="inner">
        <h1 class="blog-title">Wilson Mendes - Blog</h1>
        <h2 class="blog-description">This is my blog, where i talk about technologies</h2>
        <a href="/" class="btn">Back to Home</a>
      </div>
    </div>

    
<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-53c591e4471ce379" async="async"></script>

<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/assets/js/mini-preview.js"></script>
<script type="text/javascript" src="/assets/js/index.js"></script>
<script type="text/javascript" src="/assets/js/readingTime.min.js"></script>
<script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-58169656-1', 'auto');
ga('send', 'pageview');

(function ($) {
  "use strict";
  $(document).ready(function(){

    var $window = $(window),
    $image = $('.post-image-image, .teaserimage-image');
    $window.on('scroll', function() {
      var top = $window.scrollTop();

      if (top < 0 || top > 1500) { return; }
      $image
        .css('transform', 'translate3d(0px, '+top/3+'px, 0px)')
        .css('opacity', 1-Math.max(top/700, 0));
    });
    $window.trigger('scroll');

    var height = $('.article-image').height();
    $('.post-content').css('padding-top', height + 'px');

    $('a[href*=#]:not([href=#])').click(function() {
      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
       && location.hostname == this.hostname) {
        var target = $(this.hash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
        if (target.length) {
          $('html,body').animate({ scrollTop: target.offset().top }, 500);
          return false;
        }
      }
    });
  });
}(jQuery));
</script>

  </body>
</html>
